{"ast":null,"code":"import { _ as __assign, a as _objectSpread2, b as _slicedToArray, u as uuidv4, g as getStringSet, S as SendbirdSdkContext, L as LocalizationProvider } from './LocalizationContext-963dc1a0.js';\nimport React__default, { useLayoutEffect, useState, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport Sb from 'sendbird';\nimport { R as RESET_USER, I as INIT_USER, U as UPDATE_USER_INFO } from './actionTypes-15ff2923.js';\nimport { i as isTextuallyNull } from './index-a1512a62.js';\nimport cssVars from 'css-vars-ponyfill';\nvar INIT_SDK = 'INIT_SDK';\nvar SET_SDK_LOADING = 'SET_SDK_LOADING';\nvar RESET_SDK = 'RESET_SDK';\nvar SDK_ERROR = 'SDK_ERROR';\nvar APP_VERSION_STRING = '2.7.1';\n\nvar disconnectSdk = function disconnectSdk(_ref) {\n  var sdkDispatcher = _ref.sdkDispatcher,\n      userDispatcher = _ref.userDispatcher,\n      sdk = _ref.sdk,\n      onDisconnect = _ref.onDisconnect;\n  sdkDispatcher({\n    type: SET_SDK_LOADING,\n    payload: true\n  });\n\n  if (sdk && sdk.disconnect) {\n    sdk.disconnect().then(function () {\n      sdkDispatcher({\n        type: RESET_SDK\n      });\n      userDispatcher({\n        type: RESET_USER\n      });\n    }).finally(function () {\n      onDisconnect();\n    });\n  } else {\n    onDisconnect();\n  }\n};\n\nvar handleConnection = function handleConnection(_ref2, dispatchers) {\n  var userId = _ref2.userId,\n      appId = _ref2.appId,\n      nickname = _ref2.nickname,\n      profileUrl = _ref2.profileUrl,\n      accessToken = _ref2.accessToken,\n      sdk = _ref2.sdk,\n      logger = _ref2.logger;\n  var sdkDispatcher = dispatchers.sdkDispatcher,\n      userDispatcher = dispatchers.userDispatcher;\n  disconnectSdk({\n    sdkDispatcher: sdkDispatcher,\n    userDispatcher: userDispatcher,\n    sdk: sdk,\n    logger: logger,\n    onDisconnect: function onDisconnect() {\n      logger.info('Setup connection');\n      sdkDispatcher({\n        type: SET_SDK_LOADING,\n        payload: true\n      });\n\n      if (userId && appId) {\n        var newSdk = new Sb({\n          appId: appId\n        }); // to check if code is released version from rollup and *not from storybook*\n        // see rollup config file\n\n        {\n          newSdk.addExtension('sb_uikit', APP_VERSION_STRING);\n        }\n\n        var connectCbSucess = function connectCbSucess(user) {\n          sdkDispatcher({\n            type: INIT_SDK,\n            payload: newSdk\n          });\n          userDispatcher({\n            type: INIT_USER,\n            payload: user\n          }); // use nickname/profileUrl if provided\n          // or set userID as nickname\n\n          if ((nickname !== user.nickname || profileUrl !== user.profileUrl) && !(isTextuallyNull(nickname) && isTextuallyNull(profileUrl))) {\n            newSdk.updateCurrentUserInfo(nickname || user.nickname, profileUrl || user.profileUrl).then(function (namedUser) {\n              userDispatcher({\n                type: UPDATE_USER_INFO,\n                payload: namedUser\n              });\n            });\n          }\n        };\n\n        var connectCbError = function connectCbError(e) {\n          logger.error('Connection failed', \"\".concat(e));\n          sdkDispatcher({\n            type: RESET_SDK\n          });\n          sdkDispatcher({\n            type: RESET_USER\n          });\n          sdkDispatcher({\n            type: SDK_ERROR\n          });\n        };\n\n        if (accessToken) {\n          newSdk.connect(userId, accessToken).then(function (res) {\n            return connectCbSucess(res);\n          }).catch(function (err) {\n            return connectCbError(err);\n          });\n        } else {\n          newSdk.connect(userId).then(function (res) {\n            return connectCbSucess(res);\n          }).catch(function (err) {\n            return connectCbError(err);\n          });\n        }\n      } else {\n        sdkDispatcher({\n          type: SDK_ERROR\n        });\n        logger.warning('Connection failed', 'UserId or appId missing');\n      }\n    }\n  });\n};\n\nvar isEmpty = function isEmpty(obj) {\n  if (obj === null || obj === undefined) {\n    return true;\n  }\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return JSON.stringify(obj) === JSON.stringify({});\n};\n\nvar useTheme = function useTheme(overrides) {\n  useLayoutEffect(function () {\n    if (!isEmpty(overrides)) {\n      cssVars({\n        variables: __assign({\n          '--sendbird-dark-primary-500': '#4d2aa6',\n          '--sendbird-dark-primary-400': '#6440C4',\n          '--sendbird-dark-primary-300': '#7B53EF',\n          '--sendbird-dark-primary-200': '#9E8CF5',\n          '--sendbird-dark-primary-100': '#E2DFFF',\n          '--sendbird-dark-secondary-500': '#007A7A',\n          '--sendbird-dark-secondary-400': '#189A8D',\n          '--sendbird-dark-secondary-300': '#2EBA9F',\n          '--sendbird-dark-secondary-200': '#6FD6BE',\n          '--sendbird-dark-secondary-100': '#AEF2DC',\n          '--sendbird-dark-information-100': '#b2d9ff',\n          '--sendbird-dark-error-500': '#A30E2D',\n          '--sendbird-dark-error-400': '#C11F41',\n          '--sendbird-dark-error-300': '#E53157',\n          '--sendbird-dark-error-200': '#FF6183',\n          '--sendbird-dark-error-100': '#FFABBD',\n          '--sendbird-dark-background-700': '#000000',\n          '--sendbird-dark-background-600': '#161616',\n          '--sendbird-dark-background-500': '#2C2C2C',\n          '--sendbird-dark-background-400': '#393939',\n          '--sendbird-dark-background-300': '#A8A8A8',\n          '--sendbird-dark-background-200': '#D9D9D9',\n          '--sendbird-dark-background-100': '#F0F0F0',\n          '--sendbird-dark-background-50': '#FFFFFF',\n          '--sendbird-dark-overlay': 'rgba(0, 0, 0, 0.32)',\n          '--sendbird-dark-onlight-01': 'rgba(0, 0, 0, 0.88)',\n          '--sendbird-dark-onlight-02': 'rgba(0, 0, 0, 0.50)',\n          '--sendbird-dark-onlight-03': 'rgba(0, 0, 0, 0.38)',\n          '--sendbird-dark-onlight-04': 'rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-ondark-01': 'rgba(255, 255, 255, 0.88)',\n          '--sendbird-dark-ondark-02': 'rgba(255, 255, 255, 0.50)',\n          '--sendbird-dark-ondark-03': 'rgba(255, 255, 255, 0.38)',\n          '--sendbird-dark-ondark-04': 'rgba(255, 255, 255, 0.12)',\n          '--sendbird-dark-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n          '--sendbird-dark-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-primary-500': '#4d2aa6',\n          '--sendbird-light-primary-400': '#6440C4',\n          '--sendbird-light-primary-300': '#7B53EF',\n          '--sendbird-light-primary-200': '#9E8CF5',\n          '--sendbird-light-primary-100': '#E2DFFF',\n          '--sendbird-light-secondary-500': '#007A7A',\n          '--sendbird-light-secondary-400': '#189A8D',\n          '--sendbird-light-secondary-300': '#2EBA9F',\n          '--sendbird-light-secondary-200': '#6FD6BE',\n          '--sendbird-light-secondary-100': '#AEF2DC',\n          '--sendbird-light-information-100': '#b2d9ff',\n          '--sendbird-light-error-500': '#A30E2D',\n          '--sendbird-light-error-400': '#C11F41',\n          '--sendbird-light-error-300': '#E53157',\n          '--sendbird-light-error-200': '#FF6183',\n          '--sendbird-light-error-100': '#FFABBD',\n          '--sendbird-light-background-700': '#000000',\n          '--sendbird-light-background-600': '#161616',\n          '--sendbird-light-background-500': '#2C2C2C',\n          '--sendbird-light-background-400': '#393939',\n          '--sendbird-light-background-300': '#A8A8A8',\n          '--sendbird-light-background-200': '#D9D9D9',\n          '--sendbird-light-background-100': '#F0F0F0',\n          '--sendbird-light-background-50': ' #FFFFFF',\n          '--sendbird-light-overlay': 'rgba(0, 0, 0, 0.32)',\n          '--sendbird-light-onlight-01': 'rgba(0, 0, 0, 0.88)',\n          '--sendbird-light-onlight-02': 'rgba(0, 0, 0, 0.50)',\n          '--sendbird-light-onlight-03': 'rgba(0, 0, 0, 0.38)',\n          '--sendbird-light-onlight-04': 'rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-ondark-01': 'rgba(255, 255, 255, 0.88)',\n          '--sendbird-light-ondark-02': 'rgba(255, 255, 255, 0.50)',\n          '--sendbird-light-ondark-03': 'rgba(255, 255, 255, 0.38)',\n          '--sendbird-light-ondark-04': 'rgba(255, 255, 255, 0.12)',\n          '--sendbird-light-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n          '--sendbird-light-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)'\n        }, overrides)\n      });\n    }\n  }, [overrides]);\n};\n\nvar sdkInitialState = {\n  initialized: false,\n  loading: false,\n  sdk: {},\n  error: false\n};\n\nfunction reducer$1(state, action) {\n  switch (action.type) {\n    case SET_SDK_LOADING:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        initialized: false,\n        loading: action.payload\n      });\n\n    case SDK_ERROR:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        initialized: false,\n        loading: false,\n        error: true\n      });\n\n    case INIT_SDK:\n      return {\n        sdk: action.payload,\n        initialized: true,\n        loading: false,\n        error: false\n      };\n\n    case RESET_SDK:\n      return sdkInitialState;\n\n    default:\n      return state;\n  }\n}\n\nvar userInitialState = {\n  initialized: false,\n  loading: false,\n  user: {}\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case INIT_USER:\n      return {\n        initialized: true,\n        loading: false,\n        user: action.payload\n      };\n\n    case RESET_USER:\n      return userInitialState;\n\n    case UPDATE_USER_INFO:\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        user: action.payload\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction useConnectionStatus(sdk, logger) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOnline = _useState2[0],\n      setIsOnline = _useState2[1];\n\n  useEffect(function () {\n    var uniqueHandlerId = uuidv4();\n    logger.warning('sdk changed', uniqueHandlerId);\n    var handler;\n\n    if (sdk && sdk.ConnectionHandler) {\n      handler = new sdk.ConnectionHandler();\n\n      handler.onReconnectStarted = function () {\n        setIsOnline(false);\n        logger.warning('onReconnectStarted', {\n          isOnline: isOnline\n        });\n      };\n\n      handler.onReconnectSucceeded = function () {\n        setIsOnline(true);\n        logger.warning('onReconnectSucceeded', {\n          isOnline: isOnline\n        });\n      };\n\n      handler.onReconnectFailed = function () {\n        sdk.reconnect();\n        logger.warning('onReconnectFailed');\n      };\n\n      logger.info('Added ConnectionHandler', uniqueHandlerId);\n      sdk.addConnectionHandler(uniqueHandlerId, handler);\n    }\n\n    return function () {\n      try {\n        sdk.removeConnectionHandler(uniqueHandlerId);\n        logger.info('Removed ConnectionHandler', uniqueHandlerId);\n      } catch (_unused) {//\n      }\n    };\n  }, [sdk]);\n  useEffect(function () {\n    var tryReconnect = function tryReconnect() {\n      try {\n        logger.warning('Try reconnecting SDK');\n\n        if (sdk.getConnectionState() !== 'OPEN') {\n          // connection is not broken yet\n          sdk.reconnect();\n        }\n      } catch (_unused2) {//\n      }\n    }; // addEventListener version\n\n\n    window.addEventListener('online', tryReconnect);\n    return function () {\n      window.removeEventListener('online', tryReconnect);\n    };\n  }, [sdk]); // add offline-class to body\n\n  useEffect(function () {\n    var body = document.querySelector('body');\n\n    if (!isOnline) {\n      try {\n        body.classList.add('sendbird__offline');\n        logger.info('Added class sendbird__offline to body');\n      } catch (e) {//\n      }\n    } else {\n      try {\n        body.classList.remove('sendbird__offline');\n        logger.info('Removed class sendbird__offline from body');\n      } catch (e) {//\n      }\n    }\n  }, [isOnline]);\n  return isOnline;\n} // Logger, pretty much explains it\n// in SendbirdProvider\n// const [logger, setLogger] = useState(LoggerFactory(logLevel));\n\n\nvar LOG_LEVELS = {\n  DEBUG: 'debug',\n  WARNING: 'warning',\n  ERROR: 'error',\n  INFO: 'info',\n  ALL: 'all'\n};\n\nvar colorLog = function colorLog(level) {\n  switch (level) {\n    case LOG_LEVELS.WARNING:\n      return 'color: Orange';\n\n    case LOG_LEVELS.ERROR:\n      return 'color: Red';\n\n    default:\n      return 'color: Gray';\n  }\n};\n\nvar printLog = function printLog(_ref) {\n  var level = _ref.level,\n      title = _ref.title,\n      _ref$description = _ref.description,\n      description = _ref$description === void 0 ? '' : _ref$description; // eslint-disable-next-line no-console\n\n  console.log(\"%c SendbirdUIKit | \".concat(level, \" | \").concat(new Date().toISOString(), \" | \").concat(title, \" \").concat(description && '|'), colorLog(level), description);\n};\n\nvar getDefaultLogger = function getDefaultLogger() {\n  return {\n    info: function info() {},\n    error: function error() {},\n    warning: function warning() {}\n  };\n};\n\nvar LoggerFactory = function LoggerFactory(lvl, customInterface) {\n  var logInterface = customInterface || printLog;\n  var lvlArray = Array.isArray(lvl) ? lvl : [lvl];\n\n  var applyLog = function applyLog(lgLvl) {\n    return function (title, description) {\n      return logInterface({\n        level: lgLvl,\n        title: title,\n        description: description\n      });\n    };\n  };\n\n  var logger = lvlArray.reduce(function (accumulator, currentLvl) {\n    if (currentLvl === LOG_LEVELS.DEBUG || currentLvl === LOG_LEVELS.ALL) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        info: applyLog(LOG_LEVELS.INFO),\n        error: applyLog(LOG_LEVELS.ERROR),\n        warning: applyLog(LOG_LEVELS.WARNING)\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.INFO) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        info: applyLog(LOG_LEVELS.INFO)\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.ERROR) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        error: applyLog(LOG_LEVELS.ERROR)\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.WARNING) {\n      return _objectSpread2(_objectSpread2({}, accumulator), {}, {\n        warning: applyLog(LOG_LEVELS.WARNING)\n      });\n    }\n\n    return _objectSpread2({}, accumulator);\n  }, getDefaultLogger());\n  return logger;\n}; // https://davidwalsh.name/pubsub-javascript\n// we use pubsub to sync events between multiple components(example - ChannelList, Channel)\n// for example, if customer sends a message from their custom component\n// without pubsub,we would not be able to listen to it\n// in our ChannelList or Conversation\n\n\nvar pubSubFactory = function () {\n  var topics = {};\n  var hOP = topics.hasOwnProperty;\n  return {\n    __getTopics: function __getTopics() {\n      return topics;\n    },\n    subscribe: function subscribe(topic, listener) {\n      // Create the topic's object if not yet created\n      if (!hOP.call(topics, topic)) {\n        topics[topic] = [];\n      } // Add the listener to queue\n\n\n      var index = topics[topic].push(listener) - 1; // Provide handle back for removal of topic\n\n      return {\n        remove: function remove() {\n          delete topics[topic][index];\n        }\n      };\n    },\n    publish: function publish(topic, info) {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if (!hOP.call(topics, topic)) {\n        return;\n      } // Cycle through topics queue, fire!\n\n\n      topics[topic].forEach(function (item) {\n        item(info !== undefined ? info : {});\n      });\n    }\n  };\n};\n\nfunction useAppendDomNode() {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var rootSelector = arguments.length > 1 ? arguments[1] : undefined;\n  useEffect(function () {\n    var root = document.querySelector(rootSelector);\n    ids.forEach(function (id) {\n      var elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      root.appendChild(elem);\n    });\n    return function () {\n      ids.forEach(function (id) {\n        var target = document.getElementById(id);\n\n        if (target) {\n          root.removeChild(target);\n        }\n      });\n    };\n  }, []);\n}\n\nfunction Sendbird(props) {\n  var userId = props.userId,\n      appId = props.appId,\n      accessToken = props.accessToken,\n      children = props.children,\n      disableUserProfile = props.disableUserProfile,\n      renderUserProfile = props.renderUserProfile,\n      allowProfileEdit = props.allowProfileEdit,\n      theme = props.theme,\n      nickname = props.nickname,\n      dateLocale = props.dateLocale,\n      profileUrl = props.profileUrl,\n      userListQuery = props.userListQuery,\n      _props$config = props.config,\n      config = _props$config === void 0 ? {} : _props$config,\n      colorSet = props.colorSet,\n      stringSet = props.stringSet,\n      imageCompression = props.imageCompression,\n      useReaction = props.useReaction;\n  var _config$logLevel = config.logLevel,\n      logLevel = _config$logLevel === void 0 ? '' : _config$logLevel;\n\n  var _useState = useState(LoggerFactory(logLevel)),\n      _useState2 = _slicedToArray(_useState, 2),\n      logger = _useState2[0],\n      setLogger = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pubSub = _useState4[0],\n      setPubSub = _useState4[1];\n\n  var _useReducer = useReducer(reducer$1, sdkInitialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      sdkStore = _useReducer2[0],\n      sdkDispatcher = _useReducer2[1];\n\n  var _useReducer3 = useReducer(reducer, userInitialState),\n      _useReducer4 = _slicedToArray(_useReducer3, 2),\n      userStore = _useReducer4[0],\n      userDispatcher = _useReducer4[1];\n\n  useTheme(colorSet);\n  useEffect(function () {\n    setPubSub(pubSubFactory());\n  }, []);\n  useEffect(function () {\n    logger.info('App Init'); // dispatch action\n\n    handleConnection({\n      userId: userId,\n      appId: appId,\n      accessToken: accessToken,\n      sdkStore: sdkStore,\n      nickname: nickname,\n      profileUrl: profileUrl,\n      sdk: sdkStore.sdk,\n      logger: logger\n    }, {\n      sdkDispatcher: sdkDispatcher,\n      userDispatcher: userDispatcher\n    });\n  }, [userId, appId, accessToken]); // to create a pubsub to communicate between parent and child\n\n  useEffect(function () {\n    setLogger(LoggerFactory(logLevel));\n  }, [logLevel]);\n  useAppendDomNode(['sendbird-modal-root', 'sendbird-dropdown-portal', 'sendbird-emoji-list-portal'], 'body'); // should move to reducer\n\n  var _useState5 = useState(theme),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currenttheme = _useState6[0],\n      setCurrenttheme = _useState6[1];\n\n  useEffect(function () {\n    setCurrenttheme(theme);\n  }, [theme]); // add-remove theme from body\n\n  useEffect(function () {\n    logger.info('Setup theme', \"Theme: \".concat(currenttheme));\n\n    try {\n      var body = document.querySelector('body');\n      body.classList.remove('sendbird-theme--light');\n      body.classList.remove('sendbird-theme--dark');\n      body.classList.add(\"sendbird-theme--\".concat(currenttheme || 'light'));\n      logger.info('Finish setup theme'); // eslint-disable-next-line no-empty\n    } catch (e) {\n      logger.warning('Setup theme failed', \"\".concat(e));\n    }\n\n    return function () {\n      try {\n        var _body = document.querySelector('body');\n\n        _body.classList.remove('sendbird-theme--light');\n\n        _body.classList.remove('sendbird-theme--dark'); // eslint-disable-next-line no-empty\n\n      } catch (_unused) {}\n    };\n  }, [currenttheme]);\n  var isOnline = useConnectionStatus(sdkStore.sdk, logger);\n  var localeStringSet = React__default.useMemo(function () {\n    if (!stringSet) {\n      return getStringSet('en');\n    }\n\n    return _objectSpread2(_objectSpread2({}, getStringSet('en')), stringSet);\n  }, [stringSet]);\n  return /*#__PURE__*/React__default.createElement(SendbirdSdkContext.Provider, {\n    value: {\n      stores: {\n        sdkStore: sdkStore,\n        userStore: userStore\n      },\n      dispatchers: {\n        sdkDispatcher: sdkDispatcher,\n        userDispatcher: userDispatcher,\n        reconnect: function reconnect() {\n          handleConnection({\n            userId: userId,\n            appId: appId,\n            accessToken: accessToken,\n            sdkStore: sdkStore,\n            nickname: nickname,\n            profileUrl: profileUrl,\n            logger: logger,\n            sdk: sdkStore.sdk\n          }, {\n            sdkDispatcher: sdkDispatcher,\n            userDispatcher: userDispatcher\n          });\n        }\n      },\n      config: {\n        disableUserProfile: disableUserProfile,\n        renderUserProfile: renderUserProfile,\n        allowProfileEdit: allowProfileEdit,\n        isOnline: isOnline,\n        userId: userId,\n        appId: appId,\n        accessToken: accessToken,\n        theme: currenttheme,\n        setCurrenttheme: setCurrenttheme,\n        userListQuery: userListQuery,\n        logger: logger,\n        pubSub: pubSub,\n        imageCompression: imageCompression,\n        useReaction: useReaction\n      }\n    }\n  }, /*#__PURE__*/React__default.createElement(LocalizationProvider, {\n    stringSet: localeStringSet,\n    dateLocale: dateLocale\n  }, children));\n}\n\nSendbird.propTypes = {\n  userId: PropTypes.string.isRequired,\n  appId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.any]).isRequired,\n  theme: PropTypes.string,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  dateLocale: PropTypes.shape({}),\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  allowProfileEdit: PropTypes.bool,\n  userListQuery: PropTypes.func,\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    pubSub: PropTypes.shape({\n      subscribe: PropTypes.func,\n      publish: PropTypes.func\n    })\n  }),\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  useReaction: PropTypes.bool,\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    resizingHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  })\n};\nSendbird.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  dateLocale: null,\n  disableUserProfile: false,\n  renderUserProfile: null,\n  allowProfileEdit: false,\n  userListQuery: null,\n  config: {},\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  useReaction: true\n};\nexport { Sendbird as default };","map":{"version":3,"mappings":"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","names":["INIT_SDK","SET_SDK_LOADING","RESET_SDK","SDK_ERROR","APP_VERSION_STRING","disconnectSdk","sdkDispatcher","userDispatcher","sdk","onDisconnect","type","payload","disconnect","then","RESET_USER","finally","handleConnection","dispatchers","userId","appId","nickname","profileUrl","accessToken","logger","info","newSdk","Sb","addExtension","connectCbSucess","user","INIT_USER","isTextuallyNull","updateCurrentUserInfo","namedUser","UPDATE_USER_INFO","connectCbError","e","error","connect","res","catch","err","warning","isEmpty","obj","undefined","prop","hasOwnProperty","JSON","stringify","useTheme","overrides","useLayoutEffect","cssVars","variables","initialized","loading","reducer","state","action","sdkActions","initialState","actions","useConnectionStatus","useState","isOnline","setIsOnline","useEffect","uniqueHandlerId","uuidv4","handler","ConnectionHandler","onReconnectStarted","onReconnectSucceeded","onReconnectFailed","reconnect","addConnectionHandler","removeConnectionHandler","tryReconnect","getConnectionState","window","addEventListener","removeEventListener","body","document","querySelector","classList","add","remove","LOG_LEVELS","DEBUG","WARNING","ERROR","INFO","ALL","colorLog","level","printLog","title","description","console","log","Date","toISOString","getDefaultLogger","LoggerFactory","lvl","customInterface","logInterface","lvlArray","Array","isArray","applyLog","lgLvl","reduce","accumulator","currentLvl","topics","hOP","__getTopics","subscribe","topic","listener","call","index","push","publish","forEach","item","useAppendDomNode","ids","rootSelector","root","id","elem","createElement","setAttribute","appendChild","target","getElementById","removeChild","Sendbird","props","children","disableUserProfile","renderUserProfile","allowProfileEdit","theme","dateLocale","userListQuery","config","colorSet","stringSet","imageCompression","useReaction","logLevel","setLogger","pubSub","setPubSub","useReducer","sdkReducers","sdkInitialState","sdkStore","userReducers","userInitialState","userStore","pubSubFactory","currenttheme","setCurrenttheme","useOnlineStatus","localeStringSet","React","useMemo","getStringSet","SendbirdSdkContext","Provider","value","stores","LocalizationProvider","propTypes","PropTypes","string","isRequired","oneOfType","element","arrayOf","any","shape","bool","func","objectOf","compressionRate","number","resizingWidth","resizingHeight","defaultProps"],"sources":["C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\dux\\sdk\\actionTypes.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\dux\\sdk\\thunks.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\hooks\\useTheme.ts","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\dux\\sdk\\initialState.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\dux\\sdk\\reducers.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\dux\\user\\initialState.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\dux\\user\\reducers.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\hooks\\useOnlineStatus.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\Logger\\index.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\pubSub\\index.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\hooks\\useAppendDomNode.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\Sendbird.jsx"],"sourcesContent":["export const INIT_SDK = 'INIT_SDK';\nexport const SET_SDK_LOADING = 'SET_SDK_LOADING';\nexport const RESET_SDK = 'RESET_SDK';\nexport const SDK_ERROR = 'SDK_ERROR';\n","import Sb from 'sendbird';\n\nimport {\n  INIT_SDK,\n  SET_SDK_LOADING,\n  RESET_SDK,\n  SDK_ERROR,\n} from './actionTypes';\nimport { INIT_USER, UPDATE_USER_INFO, RESET_USER } from '../user/actionTypes';\nimport { isTextuallyNull } from '../../../utils';\n\nconst APP_VERSION_STRING = '__uikit_app_version__';\nconst IS_ROLLUP = '__is_rollup__';\nconst IS_ROLLUP_REPLACE = '__is_rollup_replace__';\n\nexport const disconnectSdk = ({\n  sdkDispatcher,\n  userDispatcher,\n  sdk,\n  onDisconnect,\n}) => {\n  sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n  if (sdk && sdk.disconnect) {\n    sdk.disconnect()\n      .then(() => {\n        sdkDispatcher({ type: RESET_SDK });\n        userDispatcher({ type: RESET_USER });\n      })\n      .finally(() => {\n        onDisconnect();\n      });\n  } else {\n    onDisconnect();\n  }\n};\n\nexport const handleConnection = ({\n  userId,\n  appId,\n  nickname,\n  profileUrl,\n  accessToken,\n  sdk,\n  logger,\n}, dispatchers) => {\n  const {\n    sdkDispatcher,\n    userDispatcher,\n  } = dispatchers;\n  disconnectSdk({\n    sdkDispatcher,\n    userDispatcher,\n    sdk,\n    logger,\n    onDisconnect: () => {\n      logger.info('Setup connection');\n      sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n      if (userId && appId) {\n        const newSdk = new Sb({ appId });\n        // to check if code is released version from rollup and *not from storybook*\n        // see rollup config file\n        if (IS_ROLLUP === IS_ROLLUP_REPLACE) {\n          newSdk.addExtension('sb_uikit', APP_VERSION_STRING);\n        }\n        const connectCbSucess = (user) => {\n          sdkDispatcher({ type: INIT_SDK, payload: newSdk });\n          userDispatcher({ type: INIT_USER, payload: user });\n          // use nickname/profileUrl if provided\n          // or set userID as nickname\n          if ((nickname !== user.nickname || profileUrl !== user.profileUrl)\n            && !(isTextuallyNull(nickname) && isTextuallyNull(profileUrl))\n          ) {\n            newSdk.updateCurrentUserInfo(nickname || user.nickname, profileUrl || user.profileUrl)\n              .then((namedUser) => {\n                userDispatcher({ type: UPDATE_USER_INFO, payload: namedUser });\n              });\n          }\n        };\n\n        const connectCbError = (e) => {\n          logger.error('Connection failed', `${e}`);\n          sdkDispatcher({ type: RESET_SDK });\n          sdkDispatcher({ type: RESET_USER });\n          sdkDispatcher({ type: SDK_ERROR });\n        };\n\n        if (accessToken) {\n          newSdk.connect(userId, accessToken)\n            .then((res) => connectCbSucess(res))\n            .catch((err) => connectCbError(err));\n        } else {\n          newSdk.connect(userId)\n            .then((res) => connectCbSucess(res))\n            .catch((err) => connectCbError(err));\n        }\n      } else {\n        sdkDispatcher({ type: SDK_ERROR });\n        logger.warning('Connection failed', 'UserId or appId missing');\n      }\n    },\n  });\n};\n","import { useLayoutEffect } from 'react';\nimport cssVars from 'css-vars-ponyfill';\n\nconst isEmpty = (obj) => {\n  if (obj === null || obj === undefined) {\n    return true;\n  }\n\n  for (const prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return JSON.stringify(obj) === JSON.stringify({});\n}\n\nconst useTheme = (overrides: Record<string, string>): void => {\n  useLayoutEffect(() => {\n    if (!isEmpty(overrides)) {\n      cssVars({\n        variables: {\n          ...{\n            '--sendbird-dark-primary-500': '#4d2aa6',\n            '--sendbird-dark-primary-400': '#6440C4',\n            '--sendbird-dark-primary-300': '#7B53EF',\n            '--sendbird-dark-primary-200': '#9E8CF5',\n            '--sendbird-dark-primary-100': '#E2DFFF',\n\n            '--sendbird-dark-secondary-500': '#007A7A',\n            '--sendbird-dark-secondary-400': '#189A8D',\n            '--sendbird-dark-secondary-300': '#2EBA9F',\n            '--sendbird-dark-secondary-200': '#6FD6BE',\n            '--sendbird-dark-secondary-100': '#AEF2DC',\n\n            '--sendbird-dark-information-100': '#b2d9ff',\n\n            '--sendbird-dark-error-500': '#A30E2D',\n            '--sendbird-dark-error-400': '#C11F41',\n            '--sendbird-dark-error-300': '#E53157',\n            '--sendbird-dark-error-200': '#FF6183',\n            '--sendbird-dark-error-100': '#FFABBD',\n\n            '--sendbird-dark-background-700': '#000000',\n            '--sendbird-dark-background-600': '#161616',\n            '--sendbird-dark-background-500': '#2C2C2C',\n            '--sendbird-dark-background-400': '#393939',\n            '--sendbird-dark-background-300': '#A8A8A8',\n            '--sendbird-dark-background-200': '#D9D9D9',\n            '--sendbird-dark-background-100': '#F0F0F0',\n            '--sendbird-dark-background-50': '#FFFFFF',\n\n            '--sendbird-dark-overlay': 'rgba(0, 0, 0, 0.32)',\n\n            '--sendbird-dark-onlight-01': 'rgba(0, 0, 0, 0.88)',\n            '--sendbird-dark-onlight-02': 'rgba(0, 0, 0, 0.50)',\n            '--sendbird-dark-onlight-03': 'rgba(0, 0, 0, 0.38)',\n            '--sendbird-dark-onlight-04': 'rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-dark-ondark-01': 'rgba(255, 255, 255, 0.88)',\n            '--sendbird-dark-ondark-02': 'rgba(255, 255, 255, 0.50)',\n            '--sendbird-dark-ondark-03': 'rgba(255, 255, 255, 0.38)',\n            '--sendbird-dark-ondark-04': 'rgba(255, 255, 255, 0.12)',\n\n            '--sendbird-dark-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n            '--sendbird-dark-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n            '--sendbird-dark-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n            '--sendbird-dark-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-dark-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-light-primary-500': '#4d2aa6',\n            '--sendbird-light-primary-400': '#6440C4',\n            '--sendbird-light-primary-300': '#7B53EF',\n            '--sendbird-light-primary-200': '#9E8CF5',\n            '--sendbird-light-primary-100': '#E2DFFF',\n\n            '--sendbird-light-secondary-500': '#007A7A',\n            '--sendbird-light-secondary-400': '#189A8D',\n            '--sendbird-light-secondary-300': '#2EBA9F',\n            '--sendbird-light-secondary-200': '#6FD6BE',\n            '--sendbird-light-secondary-100': '#AEF2DC',\n\n            '--sendbird-light-information-100': '#b2d9ff',\n\n            '--sendbird-light-error-500': '#A30E2D',\n            '--sendbird-light-error-400': '#C11F41',\n            '--sendbird-light-error-300': '#E53157',\n            '--sendbird-light-error-200': '#FF6183',\n            '--sendbird-light-error-100': '#FFABBD',\n\n            '--sendbird-light-background-700': '#000000',\n            '--sendbird-light-background-600': '#161616',\n            '--sendbird-light-background-500': '#2C2C2C',\n            '--sendbird-light-background-400': '#393939',\n            '--sendbird-light-background-300': '#A8A8A8',\n            '--sendbird-light-background-200': '#D9D9D9',\n            '--sendbird-light-background-100': '#F0F0F0',\n            '--sendbird-light-background-50': ' #FFFFFF',\n\n            '--sendbird-light-overlay': 'rgba(0, 0, 0, 0.32)',\n\n            '--sendbird-light-onlight-01': 'rgba(0, 0, 0, 0.88)',\n            '--sendbird-light-onlight-02': 'rgba(0, 0, 0, 0.50)',\n            '--sendbird-light-onlight-03': 'rgba(0, 0, 0, 0.38)',\n            '--sendbird-light-onlight-04': 'rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-light-ondark-01': 'rgba(255, 255, 255, 0.88)',\n            '--sendbird-light-ondark-02': 'rgba(255, 255, 255, 0.50)',\n            '--sendbird-light-ondark-03': 'rgba(255, 255, 255, 0.38)',\n            '--sendbird-light-ondark-04': 'rgba(255, 255, 255, 0.12)',\n\n            '--sendbird-light-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n            '--sendbird-light-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n            '--sendbird-light-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n            '--sendbird-light-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n\n            '--sendbird-light-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n          },\n          ...overrides,\n        },\n      });\n    }\n  }, [overrides]);\n};\n\nexport default useTheme;\n","export default {\n  initialized: false,\n  loading: false,\n  sdk: {},\n  error: false,\n};\n","import * as sdkActions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case sdkActions.SET_SDK_LOADING:\n      return {\n        ...state,\n        initialized: false,\n        loading: action.payload,\n      };\n    case sdkActions.SDK_ERROR:\n      return {\n        ...state,\n        initialized: false,\n        loading: false,\n        error: true,\n      };\n    case sdkActions.INIT_SDK:\n      return {\n        sdk: action.payload,\n        initialized: true,\n        loading: false,\n        error: false,\n      };\n    case sdkActions.RESET_SDK:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","export default {\n  initialized: false,\n  loading: false,\n  user: {},\n};\n","import * as actions from './actionTypes';\nimport initialState from './initialState';\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case actions.INIT_USER:\n      return {\n        initialized: true,\n        loading: false,\n        user: action.payload,\n      };\n    case actions.RESET_USER:\n      return initialState;\n    case actions.UPDATE_USER_INFO:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { useState, useEffect } from 'react';\n\nimport { uuidv4 } from '../../utils/uuid';\n\nfunction useConnectionStatus(sdk, logger) {\n  const [isOnline, setIsOnline] = useState(true);\n\n  useEffect(() => {\n    const uniqueHandlerId = uuidv4();\n    logger.warning('sdk changed', uniqueHandlerId);\n    let handler;\n    if (sdk && sdk.ConnectionHandler) {\n      handler = new sdk.ConnectionHandler();\n\n      handler.onReconnectStarted = () => {\n        setIsOnline(false);\n        logger.warning('onReconnectStarted', { isOnline });\n      };\n      handler.onReconnectSucceeded = () => {\n        setIsOnline(true);\n        logger.warning('onReconnectSucceeded', { isOnline });\n      };\n      handler.onReconnectFailed = () => {\n        sdk.reconnect();\n        logger.warning('onReconnectFailed');\n      };\n      logger.info('Added ConnectionHandler', uniqueHandlerId);\n      sdk.addConnectionHandler(uniqueHandlerId, handler);\n    }\n    return () => {\n      try {\n        sdk.removeConnectionHandler(uniqueHandlerId);\n        logger.info('Removed ConnectionHandler', uniqueHandlerId);\n      } catch {\n        //\n      }\n    };\n  }, [sdk]);\n\n  useEffect(() => {\n    const tryReconnect = () => {\n      try {\n        logger.warning('Try reconnecting SDK');\n        if (sdk.getConnectionState() !== 'OPEN') { // connection is not broken yet\n          sdk.reconnect();\n        }\n      } catch {\n        //\n      }\n    };\n    // addEventListener version\n    window.addEventListener('online', tryReconnect);\n    return () => {\n      window.removeEventListener('online', tryReconnect);\n    };\n  }, [sdk]);\n\n  // add offline-class to body\n  useEffect(() => {\n    const body = document.querySelector('body');\n    if (!isOnline) {\n      try {\n        body.classList.add('sendbird__offline');\n        logger.info('Added class sendbird__offline to body');\n      } catch (e) {\n        //\n      }\n    } else {\n      try {\n        body.classList.remove('sendbird__offline');\n        logger.info('Removed class sendbird__offline from body');\n      } catch (e) {\n        //\n      }\n    }\n  }, [isOnline]);\n\n  return isOnline;\n}\n\nexport default useConnectionStatus;\n","// Logger, pretty much explains it\n// in SendbirdProvider\n// const [logger, setLogger] = useState(LoggerFactory(logLevel));\nexport const LOG_LEVELS = {\n  DEBUG: 'debug',\n  WARNING: 'warning',\n  ERROR: 'error',\n  INFO: 'info',\n  ALL: 'all',\n};\n\nconst colorLog = (level) => {\n  switch (level) {\n    case LOG_LEVELS.WARNING:\n      return ('color: Orange');\n    case LOG_LEVELS.ERROR:\n      return ('color: Red');\n    default:\n      return ('color: Gray');\n  }\n};\n\nexport const printLog = ({\n  level,\n  title,\n  description = '',\n}) => {\n  // eslint-disable-next-line no-console\n  console.log(\n    `%c SendbirdUIKit | ${level} | ${new Date().toISOString()} | ${title} ${description && '|'}`, colorLog(level),\n    description,\n  );\n};\n\nexport const getDefaultLogger = () => ({\n  info: () => {},\n  error: () => {},\n  warning: () => {},\n});\n\nexport const LoggerFactory = (lvl, customInterface) => {\n  const logInterface = customInterface || printLog;\n  const lvlArray = Array.isArray(lvl) ? lvl : [lvl];\n\n  const applyLog = (lgLvl) => (title, description) => logInterface({\n    level: lgLvl,\n    title,\n    description,\n  });\n\n  const logger = lvlArray.reduce((accumulator, currentLvl) => {\n    if (currentLvl === LOG_LEVELS.DEBUG || currentLvl === LOG_LEVELS.ALL) {\n      return ({\n        ...accumulator,\n        info: applyLog(LOG_LEVELS.INFO),\n        error: applyLog(LOG_LEVELS.ERROR),\n        warning: applyLog(LOG_LEVELS.WARNING),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.INFO) {\n      return ({\n        ...accumulator,\n        info: applyLog(LOG_LEVELS.INFO),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.ERROR) {\n      return ({\n        ...accumulator,\n        error: applyLog(LOG_LEVELS.ERROR),\n      });\n    }\n\n    if (currentLvl === LOG_LEVELS.WARNING) {\n      return ({\n        ...accumulator,\n        warning: applyLog(LOG_LEVELS.WARNING),\n      });\n    }\n\n    return { ...accumulator };\n  }, getDefaultLogger());\n  return logger;\n};\n","// https://davidwalsh.name/pubsub-javascript\n// we use pubsub to sync events between multiple components(example - ChannelList, Channel)\n// for example, if customer sends a message from their custom component\n// without pubsub,we would not be able to listen to it\n// in our ChannelList or Conversation\nexport default () => {\n  const topics = {};\n  const hOP = topics.hasOwnProperty;\n\n  return {\n    __getTopics: () => topics,\n    subscribe: (topic, listener) => {\n      // Create the topic's object if not yet created\n      if (!hOP.call(topics, topic)) { topics[topic] = []; }\n\n      // Add the listener to queue\n      const index = topics[topic].push(listener) - 1;\n\n      // Provide handle back for removal of topic\n      return {\n        remove: () => {\n          delete topics[topic][index];\n        },\n      };\n    },\n    publish: (topic, info) => {\n      // If the topic doesn't exist, or there's no listeners in queue, just leave\n      if (!hOP.call(topics, topic)) { return; }\n\n      // Cycle through topics queue, fire!\n      topics[topic].forEach((item) => {\n        item(info !== undefined ? info : {});\n      });\n    },\n  };\n};\n","import { useEffect } from 'react';\n\nfunction useAppendDomNode(ids = [], rootSelector) {\n  useEffect(() => {\n    const root = document.querySelector(rootSelector);\n    ids.forEach((id) => {\n      const elem = document.createElement('div');\n      elem.setAttribute('id', id);\n      root.appendChild(elem);\n    });\n    return () => {\n      ids.forEach((id) => {\n        const target = document.getElementById(id);\n        if (target) {\n          root.removeChild(target);\n        }\n      });\n    };\n  }, []);\n}\n\nexport default useAppendDomNode;\n","import './index.scss';\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { SendbirdSdkContext } from './SendbirdSdkContext';\nimport { handleConnection } from './dux/sdk/thunks';\n\nimport useTheme from './hooks/useTheme';\n\nimport sdkReducers from './dux/sdk/reducers';\nimport userReducers from './dux/user/reducers';\nimport sdkInitialState from './dux/sdk/initialState';\nimport userInitialState from './dux/user/initialState';\n\nimport useOnlineStatus from './hooks/useOnlineStatus';\n\nimport { LoggerFactory } from './Logger';\nimport pubSubFactory from './pubSub/index';\nimport useAppendDomNode from '../hooks/useAppendDomNode';\n\nimport { LocalizationProvider } from './LocalizationContext';\nimport getStringSet from '../ui/Label/stringSet';\n\nexport default function Sendbird(props) {\n  const {\n    userId,\n    appId,\n    accessToken,\n    children,\n    disableUserProfile,\n    renderUserProfile,\n    allowProfileEdit,\n    theme,\n    nickname,\n    dateLocale,\n    profileUrl,\n    userListQuery,\n    config = {},\n    colorSet,\n    stringSet,\n    imageCompression,\n    useReaction,\n  } = props;\n\n  const {\n    logLevel = '',\n  } = config;\n  const [logger, setLogger] = useState(LoggerFactory(logLevel));\n  const [pubSub, setPubSub] = useState();\n  const [sdkStore, sdkDispatcher] = useReducer(sdkReducers, sdkInitialState);\n  const [userStore, userDispatcher] = useReducer(userReducers, userInitialState);\n\n  useTheme(colorSet);\n\n  useEffect(() => {\n    setPubSub(pubSubFactory());\n  }, []);\n\n  useEffect(() => {\n    logger.info('App Init');\n    // dispatch action\n    handleConnection({\n      userId,\n      appId,\n      accessToken,\n      sdkStore,\n      nickname,\n      profileUrl,\n      sdk: sdkStore.sdk,\n      logger,\n    }, {\n      sdkDispatcher,\n      userDispatcher,\n    });\n  }, [userId, appId, accessToken]);\n\n  // to create a pubsub to communicate between parent and child\n  useEffect(() => {\n    setLogger(LoggerFactory(logLevel));\n  }, [logLevel]);\n\n  useAppendDomNode([\n    'sendbird-modal-root',\n    'sendbird-dropdown-portal',\n    'sendbird-emoji-list-portal',\n  ], 'body');\n\n  // should move to reducer\n  const [currenttheme, setCurrenttheme] = useState(theme);\n  useEffect(() => {\n    setCurrenttheme(theme);\n  }, [theme]);\n  // add-remove theme from body\n  useEffect(() => {\n    logger.info('Setup theme', `Theme: ${currenttheme}`);\n    try {\n      const body = document.querySelector('body');\n      body.classList.remove('sendbird-theme--light');\n      body.classList.remove('sendbird-theme--dark');\n      body.classList.add(`sendbird-theme--${currenttheme || 'light'}`);\n      logger.info('Finish setup theme');\n      // eslint-disable-next-line no-empty\n    } catch (e) {\n      logger.warning('Setup theme failed', `${e}`);\n    }\n    return () => {\n      try {\n        const body = document.querySelector('body');\n        body.classList.remove('sendbird-theme--light');\n        body.classList.remove('sendbird-theme--dark');\n        // eslint-disable-next-line no-empty\n      } catch { }\n    };\n  }, [currenttheme]);\n\n  const isOnline = useOnlineStatus(sdkStore.sdk, logger);\n\n  const localeStringSet = React.useMemo(() => {\n    if (!stringSet) {\n      return getStringSet('en');\n    }\n    return {\n      ...getStringSet('en'),\n      ...stringSet,\n    };\n  }, [stringSet]);\n\n  return (\n    <SendbirdSdkContext.Provider\n      value={{\n        stores: {\n          sdkStore,\n          userStore,\n        },\n        dispatchers: {\n          sdkDispatcher,\n          userDispatcher,\n          reconnect: () => {\n            handleConnection({\n              userId,\n              appId,\n              accessToken,\n              sdkStore,\n              nickname,\n              profileUrl,\n              logger,\n              sdk: sdkStore.sdk,\n            }, {\n              sdkDispatcher,\n              userDispatcher,\n            });\n          },\n        },\n        config: {\n          disableUserProfile,\n          renderUserProfile,\n          allowProfileEdit,\n          isOnline,\n          userId,\n          appId,\n          accessToken,\n          theme: currenttheme,\n          setCurrenttheme,\n          userListQuery,\n          logger,\n          pubSub,\n          imageCompression,\n          useReaction,\n        },\n      }}\n    >\n      <LocalizationProvider stringSet={localeStringSet} dateLocale={dateLocale}>\n        {children}\n      </LocalizationProvider>\n    </SendbirdSdkContext.Provider>\n  );\n}\n\nSendbird.propTypes = {\n  userId: PropTypes.string.isRequired,\n  appId: PropTypes.string.isRequired,\n  accessToken: PropTypes.string,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  theme: PropTypes.string,\n  nickname: PropTypes.string,\n  profileUrl: PropTypes.string,\n  dateLocale: PropTypes.shape({}),\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  allowProfileEdit: PropTypes.bool,\n  userListQuery: PropTypes.func,\n  config: PropTypes.shape({\n    // None Error Warning Info 'All/Debug'\n    logLevel: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n    pubSub: PropTypes.shape({\n      subscribe: PropTypes.func,\n      publish: PropTypes.func,\n    }),\n  }),\n  stringSet: PropTypes.objectOf(PropTypes.string),\n  colorSet: PropTypes.objectOf(PropTypes.string),\n  useReaction: PropTypes.bool,\n  imageCompression: PropTypes.shape({\n    compressionRate: PropTypes.number,\n    resizingWidth: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n    resizingHeight: PropTypes.oneOfType([\n      PropTypes.number,\n      PropTypes.string,\n    ]),\n  }),\n};\n\nSendbird.defaultProps = {\n  accessToken: '',\n  theme: 'light',\n  nickname: '',\n  profileUrl: '',\n  dateLocale: null,\n  disableUserProfile: false,\n  renderUserProfile: null,\n  allowProfileEdit: false,\n  userListQuery: null,\n  config: {},\n  stringSet: null,\n  colorSet: null,\n  imageCompression: {},\n  useReaction: true,\n};\n"]},"metadata":{},"sourceType":"module"}