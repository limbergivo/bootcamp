{"ast":null,"code":"import React__default, { useState, useEffect, useContext, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport { b as _slicedToArray, e as _toConsumableArray, a as _objectSpread2, c as LocalizationContext, w as withSendbirdContext, h as _inherits, i as _createSuper, k as _classCallCheck, f as _defineProperty, l as _assertThisInitialized, j as _createClass } from './LocalizationContext-963dc1a0.js';\nimport { L as Label, a as LabelTypography, b as LabelColors, I as Icon, c as IconTypes, d as IconColors, A as Avatar } from './index-6ff1fa1b.js';\nimport { m as getClassName } from './index-a1512a62.js';\n/**\n * user profile goes deep inside the component tree\n * use this context as a short circuit to send in values\n */\n\nvar UserProfileContext = /*#__PURE__*/React__default.createContext({\n  disableUserProfile: true,\n  isOpenChannel: false,\n  renderUserProfile: null\n});\n\nvar UserProfileProvider = function UserProfileProvider(props) {\n  var children = props.children,\n      className = props.className;\n  return /*#__PURE__*/React__default.createElement(UserProfileContext.Provider, {\n    value: props\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: className\n  }, children));\n};\n\nUserProfileProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.any]).isRequired,\n  // eslint-disable-next-line react/no-unused-prop-types\n  isOpenChannel: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  disableUserProfile: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  renderUserProfile: PropTypes.func,\n  className: PropTypes.string\n};\nUserProfileProvider.defaultProps = {\n  className: null,\n  isOpenChannel: false,\n  disableUserProfile: false,\n  renderUserProfile: null\n};\nvar IconButton = /*#__PURE__*/React__default.forwardRef(function (props, ref) {\n  var className = props.className,\n      children = props.children,\n      disabled = props.disabled,\n      width = props.width,\n      height = props.height,\n      type = props.type,\n      _onClick = props.onClick,\n      _onBlur = props.onBlur,\n      style = props.style;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      pressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/button-has-type\n    React__default.createElement(\"button\", {\n      className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), ['sendbird-iconbutton', pressed]).join(' '),\n      disabled: disabled,\n      ref: ref,\n      type: type // eslint-disable-line react/button-has-type\n      ,\n      style: _objectSpread2(_objectSpread2({}, style), {}, {\n        height: height,\n        width: width\n      }),\n      onClick: function onClick(e) {\n        if (disabled) {\n          return;\n        }\n\n        setPressed('sendbird-iconbutton--pressed');\n\n        _onClick(e);\n      },\n      onBlur: function onBlur(e) {\n        setPressed('');\n\n        _onBlur(e);\n      }\n    }, /*#__PURE__*/React__default.createElement(\"span\", {\n      className: \"sendbird-iconbutton__inner\"\n    }, children))\n  );\n});\nIconButton.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.any]).isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  type: PropTypes.string,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.shape({})\n};\nIconButton.defaultProps = {\n  className: '',\n  disabled: false,\n  width: '56px',\n  height: '56px',\n  type: 'button',\n  onClick: function onClick() {},\n  onBlur: function onBlur() {},\n  style: {}\n}; // simple component to be used as modal root\n\nvar MODAL_ROOT = 'sendbird-modal-root';\nvar Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED'\n};\nvar Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL'\n};\n\nfunction changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY:\n      return 'sendbird-button--primary';\n\n    case Type.SECONDARY:\n      return 'sendbird-button--secondary';\n\n    case Type.DANGER:\n      return 'sendbird-button--danger';\n\n    case Type.DISABLED:\n      return 'sendbird-button--disabled';\n\n    default:\n      return null;\n  }\n}\n\nfunction changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG:\n      return 'sendbird-button--big';\n\n    case Size.SMALL:\n      return 'sendbird-button--small';\n\n    default:\n      return null;\n  }\n}\n\nfunction Button(_ref) {\n  var className = _ref.className,\n      type = _ref.type,\n      size = _ref.size,\n      children = _ref.children,\n      disabled = _ref.disabled,\n      onClick = _ref.onClick;\n  var injectingClassNames = [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), ['sendbird-button', disabled ? 'sendbird-button__disabled' : '', changeTypeToClassName(type), changeSizeToClassName(size)]).join(' ');\n  return /*#__PURE__*/React__default.createElement(\"button\", {\n    className: injectingClassNames,\n    type: \"button\",\n    onClick: onClick,\n    disabled: disabled\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-button__text\",\n    type: LabelTypography.BUTTON_1,\n    color: LabelColors.ONCONTENT_1\n  }, children));\n}\n\nvar ButtonTypes = Type;\nvar ButtonSizes = Size;\nButton.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nButton.defaultProps = {\n  className: '',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  children: 'Button',\n  disabled: false,\n  onClick: function onClick() {}\n};\n\nvar ModalHeader = function ModalHeader(_ref) {\n  var titleText = _ref.titleText;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__header\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.H_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, titleText));\n};\n\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired\n};\n\nvar ModalBody = function ModalBody(_ref2) {\n  var children = _ref2.children;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__body\"\n  }, children);\n};\n\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.arrayOf(PropTypes.element.isRequired)])\n};\nModalBody.defaultProps = {\n  children: null\n};\n\nvar ModalFooter = function ModalFooter(_ref3) {\n  var onSubmit = _ref3.onSubmit,\n      onCancel = _ref3.onCancel,\n      _ref3$disabled = _ref3.disabled,\n      disabled = _ref3$disabled === void 0 ? false : _ref3$disabled,\n      submitText = _ref3.submitText,\n      type = _ref3.type;\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__footer\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    onClick: onCancel\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.BUTTON_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, stringSet.BUTTON__CANCEL)), /*#__PURE__*/React__default.createElement(Button, {\n    type: type,\n    disabled: disabled,\n    onClick: onSubmit\n  }, submitText));\n};\n\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  type: PropTypes.string\n};\nModalFooter.defaultProps = {\n  disabled: false,\n  type: ButtonTypes.DANGER\n};\n\nfunction Modal(props) {\n  var children = props.children,\n      onCancel = props.onCancel,\n      onSubmit = props.onSubmit,\n      disabled = props.disabled,\n      submitText = props.submitText,\n      titleText = props.titleText,\n      hideFooter = props.hideFooter,\n      type = props.type;\n  var _document = document,\n      body = _document.body;\n  useEffect(function () {\n    body.className = \"sendbird-modal-pop-up \".concat(body.className);\n    return function () {\n      body.className = body.className.split(' ').filter(function (className) {\n        return className !== 'sendbird-modal-pop-up';\n      }).join(' ');\n    };\n  }, []);\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__content\"\n  }, /*#__PURE__*/React__default.createElement(ModalHeader, {\n    titleText: titleText\n  }), /*#__PURE__*/React__default.createElement(ModalBody, null, children), !hideFooter && /*#__PURE__*/React__default.createElement(ModalFooter, {\n    disabled: disabled,\n    onCancel: onCancel,\n    onSubmit: onSubmit,\n    submitText: submitText,\n    type: type\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__close\"\n  }, /*#__PURE__*/React__default.createElement(IconButton, {\n    width: \"32px\",\n    height: \"32px\",\n    onClick: onCancel\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    type: IconTypes.CLOSE,\n    fillColor: IconColors.DEFAULT,\n    width: \"24px\",\n    height: \"24px\"\n  })))), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__backdrop\"\n  })), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  disabled: PropTypes.bool,\n  type: PropTypes.string\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  disabled: false,\n  type: ButtonTypes.DANGER\n};\nvar Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR'\n};\n\nfunction changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1:\n      return 'sendbird-color--onbackground-1';\n\n    case Colors.ONBACKGROUND_2:\n      return 'sendbird-color--onbackground-2';\n\n    case Colors.ONBACKGROUND_3:\n      return 'sendbird-color--onbackground-3';\n\n    case Colors.ONBACKGROUND_4:\n      return 'sendbird-color--onbackground-4';\n\n    case Colors.ONCONTENT_1:\n      return 'sendbird-color--oncontent-1';\n\n    case Colors.PRIMARY:\n      return 'sendbird-color--primary';\n\n    case Colors.ERROR:\n      return 'sendbird-color--error';\n\n    default:\n      return null;\n  }\n}\n\nfunction TextButton(_ref) {\n  var className = _ref.className,\n      color = _ref.color,\n      disabled = _ref.disabled,\n      notUnderline = _ref.notUnderline,\n      onClick = _ref.onClick,\n      children = _ref.children;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), [changeColorToClassName(color), notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton', disabled ? 'sendbird-textbutton--disabled' : '']).join(' '),\n    role: \"button\",\n    tabIndex: 0,\n    onClick: onClick,\n    onKeyPress: onClick\n  }, children);\n}\n\nTextButton.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  notUnderline: PropTypes.bool,\n  onClick: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired\n};\nTextButton.defaultProps = {\n  className: '',\n  color: Colors.ONBACKGROUND_1,\n  disabled: false,\n  notUnderline: false,\n  onClick: function onClick() {}\n};\nvar SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nvar SEND_USER_MESSAGE = 'SEND_USER_MESSAGE';\nvar SEND_FILE_MESSAGE = 'SEND_FILE_MESSAGE';\nvar UPDATE_USER_MESSAGE = 'UPDATE_USER_MESSAGE';\nvar DELETE_MESSAGE = 'DELETE_MESSAGE';\nvar LEAVE_CHANNEL = 'LEAVE_CHANNEL';\nvar CREATE_CHANNEL = 'CREATE_CHANNEL';\n\nvar getSdk = function getSdk(store) {\n  var _store$stores = store.stores,\n      stores = _store$stores === void 0 ? {} : _store$stores;\n  var _stores$sdkStore = stores.sdkStore,\n      sdkStore = _stores$sdkStore === void 0 ? {} : _stores$sdkStore;\n  var sdk = sdkStore.sdk;\n  return sdk;\n};\n\nvar getPubSub = function getPubSub(store) {\n  var _store$config = store.config,\n      config = _store$config === void 0 ? {} : _store$config;\n  var pubSub = config.pubSub;\n  return pubSub;\n}; // SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\n\n\nvar getConnect = function getConnect(store) {\n  return function (userId, accessToken) {\n    return new Promise(function (resolve, reject) {\n      var sdk = getSdk(store);\n\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      if (!accessToken) {\n        sdk.connect(userId).then(function (res) {\n          return resolve(res);\n        }).catch(function (err) {\n          return reject(err);\n        });\n      } else {\n        sdk.connect(userId, accessToken).then(function (res) {\n          return resolve(res);\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  };\n}; // SendBird disconnect. Invalidates currentUser\n\n\nvar getDisconnect = function getDisconnect(store) {\n  return function () {\n    return new Promise(function (resolve, reject) {\n      var sdk = getSdk(store);\n\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.disconnect().then(function (res) {\n        return resolve(res);\n      }).catch(function (err) {\n        return reject(err);\n      });\n    });\n  };\n}; // Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\n\n\nvar getUpdateUserInfo = function getUpdateUserInfo(store) {\n  return function (nickName, profileUrl) {\n    return new Promise(function (resolve, reject) {\n      var sdk = getSdk(store);\n\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.updateCurrentUserInfo(nickName, profileUrl).then(function (res) {\n        return resolve(res);\n      }).catch(function (err) {\n        return reject(err);\n      });\n    });\n  };\n};\n\nvar getSendUserMessage = function getSendUserMessage(store) {\n  return function (channelUrl, userMessageParams) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendUserMessage(userMessageParams, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n\n              resolve_(message);\n              pubsub.publish(SEND_USER_MESSAGE, {\n                message: message,\n                channel: channel\n              });\n            });\n            pubsub.publish(SEND_MESSAGE_START, {\n              message: pendingMsg,\n              channel: channel\n            });\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getSendFileMessage = function getSendFileMessage(store) {\n  return function (channelUrl, fileMessageParams) {\n    var prgHandler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var progressEvent = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, function (event) {\n              // Useless progressHandler callback functions could be called everytime\n              // Performance vs Readability\n              if (prgHandler && event) {\n                progressEvent = event;\n              }\n            }, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (!progressEvent) {\n                if (error) {\n                  reject_(error);\n                } else {\n                  resolve_(message);\n                  pubsub.publish(SEND_FILE_MESSAGE, {\n                    message: message,\n                    channel: channel\n                  });\n                }\n\n                return;\n              } // If prgHandler and progressEvent exists call prgHandler with progressEvent first\n\n\n              resolve_(new Promise(function (resolve2, reject2) {\n                prgHandler(progressEvent);\n\n                if (error) {\n                  reject2(error);\n                  return;\n                }\n\n                resolve2(message);\n                pubsub.publish(SEND_FILE_MESSAGE, {\n                  message: message,\n                  channel: channel\n                });\n              }));\n            });\n          });\n\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          } // eslint-disable-next-line no-param-reassign\n\n\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(SEND_MESSAGE_START, {\n            message: pendingMsg,\n            channel: channel\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getUpdateUserMessage = function getUpdateUserMessage(store) {\n  return function (channelUrl, messageId, params) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.updateUserMessage(messageId, params, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var message = res;\n          var error = err;\n\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(UPDATE_USER_MESSAGE, {\n            message: message,\n            channel: channel,\n            // workaround for updating channelPreview on message-edit\n            // https://sendbird.atlassian.net/browse/UIKIT-268\n            fromSelector: true\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getDeleteMessage = function getDeleteMessage(store) {\n  return function (channelUrl, message) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        var messageId = message.messageId;\n        channel.deleteMessage(message, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var error = err;\n\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(DELETE_MESSAGE, {\n            messageId: messageId,\n            channel: channel\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getResendUserMessage = function getResendUserMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendUserMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_USER_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getResendFileMessage = function getResendFileMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendFileMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_FILE_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getCreateChannel = function getCreateChannel(store) {\n  return function (params) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.createChannel(params).then(function (channel) {\n        resolve(channel);\n        pubsub.publish(CREATE_CHANNEL, {\n          channel: channel\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getLeaveChannel = function getLeaveChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.leave().then(function () {\n          resolve(channel);\n          pubsub.publish(LEAVE_CHANNEL, {\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getFreezeChannel = function getFreezeChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.freeze().then(function () {\n          // do not need pubsub here - event listener works\n          resolve(channel);\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getUnFreezeChannel = function getUnFreezeChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.unfreeze().then(function () {\n          // do not need pubsub here - event listener works\n          resolve(channel);\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getCreateOpenChannel = function getCreateOpenChannel(store) {\n  return function (params) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.createChannel(params).then(function (channel) {\n        resolve(channel);\n      }).catch(reject);\n    });\n  };\n};\n\nvar enterOpenChannel = function enterOpenChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl, function (openChannel, error) {\n        if (error) {\n          reject(new Error(error));\n          return;\n        }\n\n        openChannel.enter(function (response, enterError) {\n          if (error) {\n            reject(new Error(enterError));\n            return;\n          }\n\n          resolve(response);\n        });\n      });\n    });\n  };\n};\n\nvar exitOpenChannel = function exitOpenChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl, function (openChannel, error) {\n        if (error) {\n          reject(new Error(error));\n          return;\n        }\n\n        openChannel.exit(function (response, exitError) {\n          if (error) {\n            reject(new Error(exitError));\n            return;\n          }\n\n          resolve(response);\n        });\n      });\n    });\n  };\n};\n\nvar getOpenChannelSendUserMessage = function getOpenChannelSendUserMessage(store) {\n  return function (channelUrl, userMessageParams) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendUserMessage(userMessageParams, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n\n              resolve_(message);\n              pubsub.publish(SEND_USER_MESSAGE, {\n                message: message,\n                channel: channel\n              });\n            });\n            pubsub.publish(SEND_MESSAGE_START, {\n              message: pendingMsg,\n              channel: channel\n            });\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelSendFileMessage = function getOpenChannelSendFileMessage(store) {\n  return function (channelUrl, fileMessageParams) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n\n              resolve_(message);\n              pubsub.publish(SEND_FILE_MESSAGE, {\n                message: message,\n                channel: channel\n              });\n            });\n          });\n\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          } // eslint-disable-next-line no-param-reassign\n\n\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(SEND_MESSAGE_START, {\n            message: pendingMsg,\n            channel: channel\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelUpdateUserMessage = function getOpenChannelUpdateUserMessage(store) {\n  return function (channelUrl, messageId, params) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        channel.updateUserMessage(messageId, params, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var message = res;\n          var error = err;\n\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(UPDATE_USER_MESSAGE, {\n            message: message,\n            channel: channel,\n            // workaround for updating channelPreview on message-edit\n            // https://sendbird.atlassian.net/browse/UIKIT-268\n            fromSelector: true\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelDeleteMessage = function getOpenChannelDeleteMessage(store) {\n  return function (channelUrl, message) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        var messageId = message.messageId;\n        channel.deleteMessage(message, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var error = err;\n\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(DELETE_MESSAGE, {\n            messageId: messageId,\n            channel: channel\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelResendUserMessage = function getOpenChannelResendUserMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendUserMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_USER_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelResendFileMessage = function getOpenChannelResendFileMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendFileMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_FILE_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar selectors = {\n  getSdk: getSdk,\n  getConnect: getConnect,\n  getDisconnect: getDisconnect,\n  getUpdateUserInfo: getUpdateUserInfo,\n  getSendUserMessage: getSendUserMessage,\n  getSendFileMessage: getSendFileMessage,\n  getUpdateUserMessage: getUpdateUserMessage,\n  getDeleteMessage: getDeleteMessage,\n  getResendUserMessage: getResendUserMessage,\n  getResendFileMessage: getResendFileMessage,\n  getFreezeChannel: getFreezeChannel,\n  getUnFreezeChannel: getUnFreezeChannel,\n  getCreateChannel: getCreateChannel,\n  getLeaveChannel: getLeaveChannel,\n  getCreateOpenChannel: getCreateOpenChannel,\n  getEnterOpenChannel: enterOpenChannel,\n  getExitOpenChannel: exitOpenChannel,\n  getOpenChannelSendUserMessage: getOpenChannelSendUserMessage,\n  getOpenChannelSendFileMessage: getOpenChannelSendFileMessage,\n  getOpenChannelUpdateUserMessage: getOpenChannelUpdateUserMessage,\n  getOpenChannelDeleteMessage: getOpenChannelDeleteMessage,\n  getOpenChannelResendUserMessage: getOpenChannelResendUserMessage,\n  getOpenChannelResendFileMessage: getOpenChannelResendFileMessage\n};\n\nfunction UserProfile(_a) {\n  var user = _a.user,\n      currentUserId = _a.currentUserId,\n      sdk = _a.sdk,\n      logger = _a.logger,\n      _b = _a.disableMessaging,\n      disableMessaging = _b === void 0 ? false : _b,\n      createChannel = _a.createChannel,\n      onSuccess = _a.onSuccess;\n  var stringSet = useContext(LocalizationContext).stringSet;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird__user-profile\"\n  }, /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-avatar\"\n  }, /*#__PURE__*/React__default.createElement(Avatar, {\n    height: \"80px\",\n    width: \"80px\",\n    src: user.profileUrl\n  })), /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-name\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.H_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, user.nickname || stringSet.NO_NAME)), user.userId !== currentUserId && !disableMessaging && /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-message\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    onClick: function onClick() {\n      var params = new sdk.GroupChannelParams();\n      params.isDistinct = true;\n      params.addUserIds([user.userId]);\n      onSuccess();\n      createChannel(params).then(function (groupChannel) {\n        logger.info('UserProfile, channel create', groupChannel);\n      });\n    }\n  }, stringSet.USER_PROFILE__MESSAGE)), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird__user-profile-separator\"\n  }), /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-userId\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird__user-profile-userId--label\",\n    type: LabelTypography.CAPTION_2,\n    color: LabelColors.ONBACKGROUND_2\n  }, stringSet.USER_PROFILE__USER_ID), /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird__user-profile-userId--value\",\n    type: LabelTypography.BODY_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, user.userId)));\n}\n\nvar mapStoreToProps = function mapStoreToProps(store) {\n  return {\n    sdk: getSdk(store),\n    createChannel: getCreateChannel(store),\n    logger: store.config.logger,\n    pubsub: store.config.pubSub\n  };\n};\n\nvar ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\nvar MENU_ITEMS_POP_UP = 'sendbird-menu-items-pop-up';\n\nvar MenuItems$1 = /*#__PURE__*/function (_Component) {\n  _inherits(MenuItems, _Component);\n\n  var _super = _createSuper(MenuItems);\n\n  function MenuItems(props) {\n    var _this;\n\n    _classCallCheck(this, MenuItems);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"showParent\", function () {\n      var _this$props$parentCon = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon === void 0 ? {} : _this$props$parentCon;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.add('sendbird-icon--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideParent\", function () {\n      var _this$props$parentCon2 = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon2 === void 0 ? {} : _this$props$parentCon2;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.remove('sendbird-icon--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setupEvents\", function () {\n      var closeDropdown = _this.props.closeDropdown;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          menuRef = _assertThisInitialize.menuRef;\n\n      var handleClickOutside = function handleClickOutside(event) {\n        if (menuRef.current && !menuRef.current.contains(event.target)) {\n          closeDropdown();\n        }\n      };\n\n      _this.setState({\n        handleClickOutside: handleClickOutside\n      });\n\n      document.addEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cleanUpEvents\", function () {\n      var handleClickOutside = _this.state.handleClickOutside;\n      document.removeEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMenuPosition\", function () {\n      var _this$props = _this.props,\n          parentRef = _this$props.parentRef,\n          openLeft = _this$props.openLeft;\n      var parentRect = parentRef.current.getBoundingClientRect();\n      var x = parentRect.x || parentRect.left;\n      var y = parentRect.y || parentRect.top;\n      var menuStyle = {\n        top: y,\n        left: x\n      };\n      if (!_this.menuRef.current) return menuStyle;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menuRef.current.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyle.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth && !openLeft) {\n        menuStyle.left -= rect.width;\n      }\n\n      if (menuStyle.top < 0) {\n        menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyle.left < 0) {\n        menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      menuStyle.top += 32;\n\n      if (openLeft) {\n        var padding = Number.isNaN(rect.width - 30) ? 108 // default\n        : rect.width - 30;\n        menuStyle.left -= padding;\n      }\n\n      return _this.setState({\n        menuStyle: menuStyle\n      });\n    });\n\n    _this.menuRef = /*#__PURE__*/React__default.createRef();\n    _this.rootForPopup = document.body;\n    _this.state = {\n      menuStyle: {},\n      handleClickOutside: function handleClickOutside() {}\n    };\n    return _this;\n  }\n\n  _createClass(MenuItems, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupEvents();\n      this.getMenuPosition();\n      this.showParent(); // add className to body\n\n      this.rootForPopup.className = \"\".concat(MENU_ITEMS_POP_UP, \" \").concat(this.rootForPopup.className);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cleanUpEvents();\n      this.hideParent(); // remove className from body\n\n      this.rootForPopup.className = this.rootForPopup.className.split(' ').filter(function (className) {\n        return className !== MENU_ITEMS_POP_UP;\n      }).join(' ');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var menuStyle = this.state.menuStyle;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          style = _this$props2.style;\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"sendbird-dropdown__menu-backdrop\"\n      }), /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"sendbird-dropdown__menu\",\n        ref: this.menuRef,\n        style: _objectSpread2({\n          display: 'inline-block',\n          position: 'fixed',\n          left: \"\".concat(Math.round(menuStyle.left), \"px\"),\n          top: \"\".concat(Math.round(menuStyle.top), \"px\")\n        }, style)\n      }, children)), document.getElementById('sendbird-dropdown-portal'));\n    }\n  }]);\n\n  return MenuItems;\n}(Component);\n\nMenuItems$1.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired,\n  style: PropTypes.shape({}),\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  parentContainRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  openLeft: PropTypes.bool\n};\nMenuItems$1.defaultProps = {\n  style: {},\n  openLeft: false\n};\nvar componentClassName = 'sendbird-sort-by-row';\n\nfunction SortByRow(_ref) {\n  var className = _ref.className,\n      maxItemCount = _ref.maxItemCount,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      children = _ref.children;\n\n  if (children.length > maxItemCount) {\n    var result = [];\n\n    for (var i = 0; i < children.length; i += maxItemCount) {\n      result.push( /*#__PURE__*/React__default.createElement(\"div\", {\n        className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), [componentClassName]).join(' '),\n        key: className + i,\n        style: {\n          width: itemWidth * maxItemCount,\n          height: itemHeight\n        }\n      }, children.slice(i, i + maxItemCount)));\n    }\n\n    return result;\n  }\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), [componentClassName]).join(' '),\n    style: {\n      width: itemWidth * children.length,\n      height: itemHeight\n    }\n  }, children);\n}\n\nSortByRow.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  maxItemCount: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired\n};\nSortByRow.defaultProps = {\n  className: ''\n};\nvar EMOJI_LIST_POP_UP = 'sendbird-emoji-list-pop-up';\n\nvar EmojiListItems$1 = /*#__PURE__*/function (_Component) {\n  _inherits(EmojiListItems, _Component);\n\n  var _super = _createSuper(EmojiListItems);\n\n  function EmojiListItems(props) {\n    var _this;\n\n    _classCallCheck(this, EmojiListItems);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"showParent\", function () {\n      var _this$props$parentCon = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon === void 0 ? {} : _this$props$parentCon;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.add('sendbird-reactions--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideParent\", function () {\n      var _this$props$parentCon2 = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon2 === void 0 ? {} : _this$props$parentCon2;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.remove('sendbird-reactions--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setupEvents\", function () {\n      var closeDropdown = _this.props.closeDropdown;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          reactionRef = _assertThisInitialize.reactionRef;\n\n      var handleClickOutside = function handleClickOutside(event) {\n        if (reactionRef.current && !reactionRef.current.contains(event.target)) {\n          closeDropdown();\n        }\n      };\n\n      _this.setState({\n        handleClickOutside: handleClickOutside\n      });\n\n      document.addEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cleanUpEvents\", function () {\n      var handleClickOutside = _this.state.handleClickOutside;\n      document.removeEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBarPosition\", function () {\n      // calculate the location that the context menu should be\n      var _this$props = _this.props,\n          parentRef = _this$props.parentRef,\n          spaceFromTrigger = _this$props.spaceFromTrigger;\n      var spaceFromTriggerX = spaceFromTrigger.x || 0;\n      var spaceFromTriggerY = spaceFromTrigger.y || 0;\n      var parentRect = parentRef.current.getBoundingClientRect();\n      var x = parentRect.x || parentRect.left;\n      var y = parentRect.y || parentRect.top;\n      var reactionStyle = {\n        top: y,\n        left: x\n      };\n      if (!_this.reactionRef.current) return reactionStyle;\n\n      var rect = _this.reactionRef.current.getBoundingClientRect();\n\n      if (reactionStyle.top < rect.height) {\n        reactionStyle.top += parentRect.height;\n        reactionStyle.top += spaceFromTriggerY;\n      } else {\n        reactionStyle.top -= rect.height;\n        reactionStyle.top -= spaceFromTriggerY;\n      }\n\n      reactionStyle.left -= rect.width / 2;\n      reactionStyle.left += parentRect.height / 2 - 2;\n      reactionStyle.left += spaceFromTriggerX;\n      var maximumLeft = window.innerWidth - rect.width;\n\n      if (maximumLeft < reactionStyle.left) {\n        reactionStyle.left = maximumLeft;\n      }\n\n      if (reactionStyle.left < 0) {\n        reactionStyle.left = 0;\n      }\n\n      return _this.setState({\n        reactionStyle: reactionStyle\n      });\n    });\n\n    _this.reactionRef = /*#__PURE__*/React__default.createRef();\n    _this.rootForPopup = document.body;\n    _this.state = {\n      reactionStyle: {},\n      handleClickOutside: function handleClickOutside() {}\n    };\n    return _this;\n  }\n\n  _createClass(EmojiListItems, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupEvents();\n      this.getBarPosition();\n      this.showParent(); // add className to body\n\n      this.rootForPopup.className = \"\".concat(EMOJI_LIST_POP_UP, \" \").concat(this.rootForPopup.className);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cleanUpEvents();\n      this.hideParent(); // remove className from body\n\n      this.rootForPopup.className = this.rootForPopup.className.split(' ').filter(function (className) {\n        return className !== EMOJI_LIST_POP_UP;\n      }).join(' ');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var reactionStyle = this.state.reactionStyle;\n      var children = this.props.children;\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"sendbird-dropdown__menu-backdrop\"\n      }), /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"sendbird-dropdown__reaction-bar\",\n        ref: this.reactionRef,\n        style: {\n          display: 'inline-block',\n          position: 'fixed',\n          left: \"\".concat(Math.round(reactionStyle.left), \"px\"),\n          top: \"\".concat(Math.round(reactionStyle.top), \"px\")\n        }\n      }, /*#__PURE__*/React__default.createElement(SortByRow, {\n        className: \"sendbird-dropdown__reaction-bar__row\",\n        maxItemCount: 8,\n        itemWidth: 44,\n        itemHeight: 40\n      }, children))), document.getElementById('sendbird-emoji-list-portal'));\n    }\n  }]);\n\n  return EmojiListItems;\n}(Component);\n\nEmojiListItems$1.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired,\n  parentRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  parentContainRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  spaceFromTrigger: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n};\nEmojiListItems$1.defaultProps = {\n  spaceFromTrigger: {}\n};\nvar ENTER = 13;\nvar MenuItems = MenuItems$1;\nvar EmojiListItems = EmojiListItems$1;\n\nvar MenuItem = function MenuItem(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      onClick = _ref.onClick,\n      disable = _ref.disable;\n\n  var handleClickEvent = function handleClickEvent(e) {\n    if (!disable) onClick(e);\n  };\n\n  return /*#__PURE__*/React__default.createElement(\"li\", {\n    className: getClassName([className, 'sendbird-dropdown__menu-item', disable ? 'disable' : '']),\n    role: \"menuitem\",\n    onClick: handleClickEvent,\n    onKeyPress: function onKeyPress(e) {\n      if (e.keyCode === ENTER) handleClickEvent(e);\n    },\n    tabIndex: 0\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-dropdown__menu-item__text\",\n    type: LabelTypography.SUBTITLE_2,\n    color: disable ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1\n  }, children));\n};\n\nMenuItem.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  onClick: PropTypes.func.isRequired,\n  disable: PropTypes.bool\n};\nMenuItem.defaultProps = {\n  className: '',\n  disable: false\n}; // Root components should be appended before ContextMenu is rendered\n\nfunction ContextMenu(_ref2) {\n  var menuTrigger = _ref2.menuTrigger,\n      menuItems = _ref2.menuItems;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showMenu = _useState2[0],\n      setShowMenu = _useState2[1];\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-context-menu\",\n    style: {\n      display: 'inline'\n    }\n  }, menuTrigger(function () {\n    return setShowMenu(!showMenu);\n  }), showMenu && menuItems(function () {\n    return setShowMenu(false);\n  }));\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired\n};\nexport { Button as B, ContextMenu as C, DELETE_MESSAGE as D, EmojiListItems as E, IconButton as I, LEAVE_CHANNEL as L, Modal as M, SEND_MESSAGE_START as S, Type as T, UserProfileContext as U, TextButton as a, MenuItems as b, MenuItem as c, ButtonTypes as d, ButtonSizes as e, ConnectedUserProfile as f, getSdk as g, UserProfileProvider as h, CREATE_CHANNEL as i, UPDATE_USER_MESSAGE as j, SEND_USER_MESSAGE as k, SEND_FILE_MESSAGE as l, Colors as m, changeColorToClassName as n, MODAL_ROOT as o, selectors as s };","map":{"version":3,"mappings":";;;;;;AAGA;AACA;AACA;AACA;;IACMA,kBAAkB,gBAAGC,cAAK,CAACC,aAAND,CAAoB;EAC7CE,kBAAkB,EAAE,IADyB;EAE7CC,aAAa,EAAE,KAF8B;EAG7CC,iBAAiB,EAAE;AAH0B,CAApBJ;;IAMrBK,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAW;EACrC,IAAQC,QAAR,GAAgCD,KAAhC,CAAQC,QAAR;EAAA,IAAkBC,SAAlB,GAAgCF,KAAhC,CAAkBE,SAAlB;EACA,oBACER,6BAACD,kBAAD,CAAoBU,QAApBT;IAA6BU,KAAK,EAAEJ;EAApC,gBACEN;IAAKQ,SAAS,EAAEA;EAAhBR,GACGO,QADHP,CADFA,CADF;AAOD;;AAEDK,mBAAmB,CAACM,SAApBN,GAAgC;EAC9BE,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OADkB,EAE5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAF4B,EAG5BA,SAAS,CAACI,GAHkB,CAApBJ,EAIPK,UAL2B;EAM9B;EACAd,aAAa,EAAES,SAAS,CAACM,IAPK;EAQ9B;EACAhB,kBAAkB,EAAEU,SAAS,CAACM,IATA;EAU9B;EACAd,iBAAiB,EAAEQ,SAAS,CAACO,IAXC;EAY9BX,SAAS,EAAEI,SAAS,CAACQ;AAZS,CAAhCf;AAeAA,mBAAmB,CAACgB,YAApBhB,GAAmC;EACjCG,SAAS,EAAE,IADsB;EAEjCL,aAAa,EAAE,KAFkB;EAGjCD,kBAAkB,EAAE,KAHa;EAIjCE,iBAAiB,EAAE;AAJc,CAAnCC;IClCMiB,UAAU,gBAAGtB,cAAK,CAACuB,UAANvB,CAAiB,UAACM,KAAD,EAAQkB,GAAR,EAAgB;EAClD,IACEhB,SADF,GAUIF,KAVJ,CACEE,SADF;EAAA,IAEED,QAFF,GAUID,KAVJ,CAEEC,QAFF;EAAA,IAGEkB,QAHF,GAUInB,KAVJ,CAGEmB,QAHF;EAAA,IAIEC,KAJF,GAUIpB,KAVJ,CAIEoB,KAJF;EAAA,IAKEC,MALF,GAUIrB,KAVJ,CAKEqB,MALF;EAAA,IAMEC,IANF,GAUItB,KAVJ,CAMEsB,IANF;EAAA,IAOEC,QAPF,GAUIvB,KAVJ,CAOEuB,OAPF;EAAA,IAQEC,OARF,GAUIxB,KAVJ,CAQEwB,MARF;EAAA,IASEC,KATF,GAUIzB,KAVJ,CASEyB,KATF;;EAYA,gBAA8BC,QAAQ,CAAC,EAAD,CAAtC;EAAA;EAAA,IAAOC,OAAP;EAAA,IAAgBC,UAAhB;;EAEA;IAAA;IACE;IACAC;MACE3B,SAAS,EAAE,6BACL4B,KAAK,CAACC,OAAND,CAAc5B,SAAd4B,IAA2B5B,SAA3B4B,GAAuC,CAAC5B,SAAD,CADlC,IAET,qBAFS,EAGTyB,OAHS,GAITK,IAJS,CAIJ,GAJI,CADb;MAMEb,QAAQ,EAAEA,QANZ;MAOED,GAAG,EAAEA,GAPP;MAQEI,IAAI,EAAEA,IARR;MAAA;MASEG,KAAK,oCACAA,KADA;QAEHJ,MAAM,EAANA,MAFG;QAGHD,KAAK,EAALA;MAHG,EATP;MAcEG,OAAO,EAAE,iBAACU,CAAD,EAAO;QACd,IAAId,QAAJ,EAAc;UAAE;QAAS;;QACzBS,UAAU,CAAC,8BAAD,CAAVA;;QACAL,QAAO,CAACU,CAAD,CAAPV;MAjBJ;MAmBEC,MAAM,EAAE,gBAACS,CAAD,EAAO;QACbL,UAAU,CAAC,EAAD,CAAVA;;QACAJ,OAAM,CAACS,CAAD,CAANT;MACD;IAtBH,gBAwBE9B;MAAMQ,SAAS,EAAC;IAAhBR,GACGO,QADHP,CAxBF;EAFF;AAfiB;AAgDnBsB,UAAU,CAACX,SAAXW,GAAuB;EACrBd,SAAS,EAAEI,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACQ,MADmB,EAE7BR,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACQ,MAA5BR,CAF6B,CAApBA,CADU;EAKrBL,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OADkB,EAE5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAF4B,EAG5BA,SAAS,CAACI,GAHkB,CAApBJ,EAIPK,UATkB;EAUrBQ,QAAQ,EAAEb,SAAS,CAACM,IAVC;EAWrBQ,KAAK,EAAEd,SAAS,CAACQ,MAXI;EAYrBO,MAAM,EAAEf,SAAS,CAACQ,MAZG;EAarBQ,IAAI,EAAEhB,SAAS,CAACQ,MAbK;EAcrBS,OAAO,EAAEjB,SAAS,CAACO,IAdE;EAerBW,MAAM,EAAElB,SAAS,CAACO,IAfG;EAgBrBY,KAAK,EAAEnB,SAAS,CAAC4B,KAAV5B,CAAgB,EAAhBA;AAhBc,CAAvBU;AAmBAA,UAAU,CAACD,YAAXC,GAA0B;EACxBd,SAAS,EAAE,EADa;EAExBiB,QAAQ,EAAE,KAFc;EAGxBC,KAAK,EAAE,MAHiB;EAIxBC,MAAM,EAAE,MAJgB;EAKxBC,IAAI,EAAE,QALkB;EAMxBC,OAAO,EAAE,mBAAM,CANS;EAOxBC,MAAM,EAAE,kBAAM,CAPU;EAQxBC,KAAK,EAAE;AARiB,CAA1BT,C,CCxEA;;IAGamB,UAAU,GAAG;ICHbC,IAAI,GAAG;EAClBC,OAAO,EAAE,SADS;EAElBC,SAAS,EAAE,WAFO;EAGlBC,MAAM,EAAE,QAHU;EAIlBC,QAAQ,EAAE;AAJQ;AAOb,IAAMC,IAAI,GAAG;EAClBC,GAAG,EAAE,KADa;EAElBC,KAAK,EAAE;AAFW,CAAb;;ACLA,SAASC,qBAAT,CAA+BtB,IAA/B,EAAqC;EAC1C,QAAQA,IAAR;IACE,KAAKc,IAAI,CAACC,OAAV;MAAmB,OAAO,0BAAP;;IACnB,KAAKD,IAAI,CAACE,SAAV;MAAqB,OAAO,4BAAP;;IACrB,KAAKF,IAAI,CAACG,MAAV;MAAkB,OAAO,yBAAP;;IAClB,KAAKH,IAAI,CAACI,QAAV;MAAoB,OAAO,2BAAP;;IACpB;MAAS,OAAO,IAAP;EALX;AAOD;;AAEM,SAASK,qBAAT,CAA+BC,IAA/B,EAAqC;EAC1C,QAAQA,IAAR;IACE,KAAKL,IAAI,CAACC,GAAV;MAAe,OAAO,sBAAP;;IACf,KAAKD,IAAI,CAACE,KAAV;MAAiB,OAAO,wBAAP;;IACjB;MAAS,OAAO,IAAP;EAHX;AAKD;;ACVc,SAASI,MAAT,OAOZ;EAAA,IAND7C,SAMC,QANDA,SAMC;EAAA,IALDoB,IAKC,QALDA,IAKC;EAAA,IAJDwB,IAIC,QAJDA,IAIC;EAAA,IAHD7C,QAGC,QAHDA,QAGC;EAAA,IAFDkB,QAEC,QAFDA,QAEC;EAAA,IADDI,OACC,QADDA,OACC;EACD,IAAMyB,mBAAmB,GAAG,6BACrBlB,KAAK,CAACC,OAAND,CAAc5B,SAAd4B,IAA4B5B,SAA5B4B,GAAwC,CAAC5B,SAAD,CADnB,IAE1B,iBAF0B,EAGzBiB,QAAQ,GAAG,2BAAH,GAAiC,EAHhB,EAI1ByB,qBAAqB,CAACtB,IAAD,CAJK,EAK1BuB,qBAAqB,CAACC,IAAD,CALK,GAM1Bd,IAN0B,CAMrB,GANqB,CAA5B;EAQA,oBACEtC;IACEQ,SAAS,EAAE8C,mBADbtD;IAEE4B,IAAI,EAAC,QAFP5B;IAGE6B,OAAO,EAAEA,OAHX7B;IAIEyB,QAAQ,EAAEA;EAJZzB,gBAMEA,6BAACuD,KAADvD;IACEQ,SAAS,EAAC,uBADZ;IAEEoB,IAAI,EAAE4B,eAAe,CAACC,QAFxB;IAGEC,KAAK,EAAEC,WAAW,CAACC;EAHrB,GAKGrD,QALHP,CANFA,CADF;AAgBD;;IAEY6D,WAAW,GAAGnB;IACdoB,WAAW,GAAGf;AAE3BM,MAAM,CAAC1C,SAAP0C,GAAmB;EACjB7C,SAAS,EAAEI,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACQ,MADmB,EAE7BR,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACQ,MAA5BR,CAF6B,CAApBA,CADM;EAKjBgB,IAAI,EAAEhB,SAAS,CAACmD,KAAVnD,CAAgBoD,MAAM,CAACC,IAAPD,CAAYtB,IAAZsB,CAAhBpD,CALW;EAMjBwC,IAAI,EAAExC,SAAS,CAACmD,KAAVnD,CAAgBoD,MAAM,CAACC,IAAPD,CAAYjB,IAAZiB,CAAhBpD,CANW;EAOjBL,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACQ,MADkB,EAE5BR,SAAS,CAACE,OAFkB,EAG5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAH4B,CAApBA,CAPO;EAYjBa,QAAQ,EAAEb,SAAS,CAACM,IAZH;EAajBW,OAAO,EAAEjB,SAAS,CAACO;AAbF,CAAnBkC;AAgBAA,MAAM,CAAChC,YAAPgC,GAAsB;EACpB7C,SAAS,EAAE,EADS;EAEpBoB,IAAI,EAAEc,IAAI,CAACC,OAFS;EAGpBS,IAAI,EAAEL,IAAI,CAACC,GAHS;EAIpBzC,QAAQ,EAAE,QAJU;EAKpBkB,QAAQ,EAAE,KALU;EAMpBI,OAAO,EAAE,mBAAM;AANK,CAAtBwB;;AChDO,IAAMa,WAAW,GAAG,SAAdA,WAAc;EAAA,IAAGC,SAAH,QAAGA,SAAH;EAAA,oBACzBnE;IAAKQ,SAAS,EAAC;EAAfR,gBACEA,6BAACuD,KAADvD;IAAO4B,IAAI,EAAE4B,eAAe,CAACY,GAA7B;IAAkCV,KAAK,EAAEC,WAAW,CAACU;EAArD,GACGF,SADHnE,CADFA,CADyB;AAApB;;AAOPkE,WAAW,CAACvD,SAAZuD,GAAwB;EACtBC,SAAS,EAAEvD,SAAS,CAACQ,MAAVR,CAAiBK;AADN,CAAxBiD;;AAIO,IAAMI,SAAS,GAAG,SAAZA,SAAY;EAAA,IAAG/D,QAAH,SAAGA,QAAH;EAAA,oBACvBP;IAAKQ,SAAS,EAAC;EAAfR,GAAuCO,QAAvCP,CADuB;AAAlB;;AAGPsE,SAAS,CAAC3D,SAAV2D,GAAsB;EACpB/D,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OAAVF,CAAkBK,UADU,EAE5BL,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAAVF,CAAkBK,UAApCL,CAF4B,CAApBA;AADU,CAAtB0D;AAMAA,SAAS,CAACjD,YAAViD,GAAyB;EACvB/D,QAAQ,EAAE;AADa,CAAzB+D;;AAIO,IAAMC,WAAW,GAAG,SAAdA,WAAc,QAMrB;EAAA,IALJC,QAKI,SALJA,QAKI;EAAA,IAJJC,QAII,SAJJA,QAII;EAAA,2BAHJhD,QAGI;EAAA,IAHJA,QAGI,+BAHO,KAGP;EAAA,IAFJiD,UAEI,SAFJA,UAEI;EAAA,IADJ9C,IACI,SADJA,IACI;;EACJ,kBAAsB+C,UAAU,CAACC,mBAAD,CAAhC;EAAA,IAAQC,SAAR,eAAQA,SAAR;;EACA,oBACE7E;IAAKQ,SAAS,EAAC;EAAfR,gBACEA,6BAACqD,MAADrD;IAAQ4B,IAAI,EAAEiC,WAAW,CAACjB,SAA1B;IAAqCf,OAAO,EAAE4C;EAA9C,gBACEzE,6BAACuD,KAADvD;IAAO4B,IAAI,EAAE4B,eAAe,CAACC,QAA7B;IAAuCC,KAAK,EAAEC,WAAW,CAACU;EAA1D,GACGQ,SAAS,CAACC,cADb9E,CADFA,CADFA,eAMEA,6BAACqD,MAADrD;IAAQ4B,IAAI,EAAEA,IAAd;IAAoBH,QAAQ,EAAEA,QAA9B;IAAwCI,OAAO,EAAE2C;EAAjD,GACGE,UADH1E,CANFA,CADF;AARK;;AAsBPuE,WAAW,CAAC5D,SAAZ4D,GAAwB;EACtBE,QAAQ,EAAE7D,SAAS,CAACO,IAAVP,CAAeK,UADH;EAEtBuD,QAAQ,EAAE5D,SAAS,CAACO,IAAVP,CAAeK,UAFH;EAGtByD,UAAU,EAAE9D,SAAS,CAACQ,MAAVR,CAAiBK,UAHP;EAItBQ,QAAQ,EAAEb,SAAS,CAACM,IAJE;EAKtBU,IAAI,EAAEhB,SAAS,CAACQ;AALM,CAAxBmD;AAOAA,WAAW,CAAClD,YAAZkD,GAA2B;EACzB9C,QAAQ,EAAE,KADe;EAEzBG,IAAI,EAAEiC,WAAW,CAAChB;AAFO,CAA3B0B;;AAKe,SAASQ,KAAT,CAAezE,KAAf,EAAsB;EACnC,IACEC,QADF,GASID,KATJ,CACEC,QADF;EAAA,IAEEkE,QAFF,GASInE,KATJ,CAEEmE,QAFF;EAAA,IAGED,QAHF,GASIlE,KATJ,CAGEkE,QAHF;EAAA,IAIE/C,QAJF,GASInB,KATJ,CAIEmB,QAJF;EAAA,IAKEiD,UALF,GASIpE,KATJ,CAKEoE,UALF;EAAA,IAMEP,SANF,GASI7D,KATJ,CAME6D,SANF;EAAA,IAOEa,UAPF,GASI1E,KATJ,CAOE0E,UAPF;EAAA,IAQEpD,IARF,GASItB,KATJ,CAQEsB,IARF;EAUA,gBAAiBqD,QAAjB;EAAA,IAAQC,IAAR,aAAQA,IAAR;EACAC,SAAS,CAAC,YAAM;IACdD,IAAI,CAAC1E,SAAL0E,mCAA0CA,IAAI,CAAC1E,SAA/C;IACA,OAAO,YAAM;MACX0E,IAAI,CAAC1E,SAAL0E,GAAiBA,IAAI,CAAC1E,SAAL0E,CAAeE,KAAfF,CAAqB,GAArBA,EAA0BG,MAA1BH,CAAiC,UAAC1E,SAAD;QAAA,OAAeA,SAAS,KAAK,uBAA7B;MAAjC,GAAuF8B,IAAvF4C,CAA4F,GAA5FA,CAAjBA;IADF;EAFO,GAKN,EALM,CAATC;EAOA,oBAAOG,YAAY,eACjBtF;IAAKQ,SAAS,EAAC;EAAfR,gBACEA;IAAKQ,SAAS,EAAC;EAAfR,gBACEA,6BAACkE,WAADlE;IAAamE,SAAS,EAAEA;EAAxB,EADFnE,eAEEA,6BAACsE,SAADtE,QAAYO,QAAZP,CAFFA,EAII,CAACgF,UAAD,iBACEhF,6BAACuE,WAADvE;IACEyB,QAAQ,EAAEA,QADZ;IAEEgD,QAAQ,EAAEA,QAFZ;IAGED,QAAQ,EAAEA,QAHZ;IAIEE,UAAU,EAAEA,UAJd;IAKE9C,IAAI,EAAEA;EALR,EALN5B,eAcEA;IAAKQ,SAAS,EAAC;EAAfR,gBACEA,6BAACsB,UAADtB;IACE0B,KAAK,EAAC,MADR;IAEEC,MAAM,EAAC,MAFT;IAGEE,OAAO,EAAE4C;EAHX,gBAKEzE,6BAACuF,IAADvF;IACE4B,IAAI,EAAE4D,SAAS,CAACC,KADlB;IAEEC,SAAS,EAAEC,UAAU,CAACC,OAFxB;IAGElE,KAAK,EAAC,MAHR;IAIEC,MAAM,EAAC;EAJT,EALF3B,CADFA,CAdFA,CADFA,eA8BEA;IAAKQ,SAAS,EAAC;EAAfR,EA9BFA,CADiB,EAiChBiF,QAAQ,CAACY,cAATZ,CAAwBxC,UAAxBwC,CAjCgB,CAAnB;AAkCD;;AAEDF,KAAK,CAACpE,SAANoE,GAAkB;EAChBxE,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OADkB,EAE5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAF4B,CAApBA,CADM;EAKhB6D,QAAQ,EAAE7D,SAAS,CAACO,IAAVP,CAAeK,UALT;EAMhBuD,QAAQ,EAAE5D,SAAS,CAACO,IAAVP,CAAeK,UANT;EAOhB+D,UAAU,EAAEpE,SAAS,CAACM,IAPN;EAQhBO,QAAQ,EAAEb,SAAS,CAACM,IARJ;EAShBU,IAAI,EAAEhB,SAAS,CAACQ;AATA,CAAlB2D;AAWAA,KAAK,CAAC1D,YAAN0D,GAAqB;EACnBxE,QAAQ,EAAE,IADS;EAEnByE,UAAU,EAAE,KAFO;EAGnBvD,QAAQ,EAAE,KAHS;EAInBG,IAAI,EAAEiC,WAAW,CAAChB;AAJC,CAArBkC;ICvIae,MAAM,GAAG;EACpBzB,cAAc,EAAE,gBADI;EAEpB0B,cAAc,EAAE,gBAFI;EAGpBC,cAAc,EAAE,gBAHI;EAIpBC,cAAc,EAAE,gBAJI;EAKpBrC,WAAW,EAAE,aALO;EAMpBjB,OAAO,EAAE,SANW;EAOpBuD,KAAK,EAAE;AAPa;;AAUf,SAASC,sBAAT,CAAgCzC,KAAhC,EAAuC;EAC5C,QAAQA,KAAR;IACE,KAAKoC,MAAM,CAACzB,cAAZ;MAA4B,OAAO,gCAAP;;IAC5B,KAAKyB,MAAM,CAACC,cAAZ;MAA4B,OAAO,gCAAP;;IAC5B,KAAKD,MAAM,CAACE,cAAZ;MAA4B,OAAO,gCAAP;;IAC5B,KAAKF,MAAM,CAACG,cAAZ;MAA4B,OAAO,gCAAP;;IAC5B,KAAKH,MAAM,CAAClC,WAAZ;MAAyB,OAAO,6BAAP;;IACzB,KAAKkC,MAAM,CAACnD,OAAZ;MAAqB,OAAO,yBAAP;;IACrB,KAAKmD,MAAM,CAACI,KAAZ;MAAmB,OAAO,uBAAP;;IACnB;MAAS,OAAO,IAAP;EARX;AAUD;;ACjBc,SAASE,UAAT,OAOZ;EAAA,IAND5F,SAMC,QANDA,SAMC;EAAA,IALDkD,KAKC,QALDA,KAKC;EAAA,IAJDjC,QAIC,QAJDA,QAIC;EAAA,IAHD4E,YAGC,QAHDA,YAGC;EAAA,IAFDxE,OAEC,QAFDA,OAEC;EAAA,IADDtB,QACC,QADDA,QACC;EACD,oBACEP;IACEQ,SAAS,EAAE,6BACL4B,KAAK,CAACC,OAAND,CAAc5B,SAAd4B,IAA2B5B,SAA3B4B,GAAuC,CAAC5B,SAAD,CADlC,IAET2F,sBAAsB,CAACzC,KAAD,CAFb,EAGT2C,YAAY,GAAG,oCAAH,GAA0C,qBAH7C,EAIT5E,QAAQ,GAAG,+BAAH,GAAqC,EAJpC,GAKTa,IALS,CAKJ,GALI,CADbtC;IAOEsG,IAAI,EAAC,QAPPtG;IAQEuG,QAAQ,EAAE,CARZvG;IASE6B,OAAO,EAAEA,OATX7B;IAUEwG,UAAU,EAAE3E;EAVd7B,GAYGO,QAZHP,CADF;AAgBD;;AAEDoG,UAAU,CAACzF,SAAXyF,GAAuB;EACrB5F,SAAS,EAAEI,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACQ,MADmB,EAE7BR,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACQ,MAA5BR,CAF6B,CAApBA,CADU;EAKrB8C,KAAK,EAAE9C,SAAS,CAACQ,MALI;EAMrBK,QAAQ,EAAEb,SAAS,CAACM,IANC;EAOrBmF,YAAY,EAAEzF,SAAS,CAACM,IAPH;EAQrBW,OAAO,EAAEjB,SAAS,CAACO,IARE;EASrBZ,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACQ,MADkB,EAE5BR,SAAS,CAACE,OAFkB,CAApBF,EAGPK;AAZkB,CAAvBmF;AAeAA,UAAU,CAAC/E,YAAX+E,GAA0B;EACxB5F,SAAS,EAAE,EADa;EAExBkD,KAAK,EAAEoC,MAAM,CAACzB,cAFU;EAGxB5C,QAAQ,EAAE,KAHc;EAIxB4E,YAAY,EAAE,KAJU;EAKxBxE,OAAO,EAAE,mBAAM;AALS,CAA1BuE;IC9CaK,kBAAkB,GAAG;IACrBC,iBAAiB,GAAG;IACpBC,iBAAiB,GAAG;IACpBC,mBAAmB,GAAG;IACtBC,cAAc,GAAG;IACjBC,aAAa,GAAG;IAChBC,cAAc,GAAG;;ICLjBC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;EAC/B,oBAAwBA,KAAxB,CAAQC,MAAR;EAAA,IAAQA,MAAR,8BAAiB,EAAjB;EACA,uBAA0BA,MAA1B,CAAQC,QAAR;EAAA,IAAQA,QAAR,iCAAmB,EAAnB;EACA,IAAQC,GAAR,GAAgBD,QAAhB,CAAQC,GAAR;EACA,OAAOA,GAAP;AACD;;AAEM,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACJ,KAAD,EAAW;EAClC,oBAAwBA,KAAxB,CAAQK,MAAR;EAAA,IAAQA,MAAR,8BAAiB,EAAjB;EACA,IAAQC,MAAR,GAAmBD,MAAnB,CAAQC,MAAR;EACA,OAAOA,MAAP;AAHK,E,CAAA;AAOP;;;AACO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACP,KAAD;EAAA,OAAW,UAACQ,MAAD,EAASC,WAAT;IAAA,OAAyB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MAC7F,IAAMT,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;;MACA,IAAI,CAACG,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACD,IAAI,CAACH,WAAL,EAAkB;QAChBN,GAAG,CAACW,OAAJX,CAAYK,MAAZL,EACGY,IADHZ,CACQ,UAACa,GAAD;UAAA,OAASL,OAAO,CAACK,GAAD,CAAhB;QADR,GAEGC,KAFHd,CAES,UAACe,GAAD;UAAA,OAASN,MAAM,CAACM,GAAD,CAAf;QAFT;MADF,OAIO;QACLf,GAAG,CAACW,OAAJX,CAAYK,MAAZL,EAAoBM,WAApBN,EACGY,IADHZ,CACQ,UAACa,GAAD;UAAA,OAASL,OAAO,CAACK,GAAD,CAAhB;QADR,GAEGC,KAFHd,CAES,UAACe,GAAD;UAAA,OAASN,MAAM,CAACM,GAAD,CAAf;QAFT;MAGD;IAb2D,EAAzB;EAAX;AAAnB,E,CAAA;;;AAiBA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACnB,KAAD;EAAA,OAAW;IAAA,OAAM,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MAC7E,IAAMT,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;;MACA,IAAI,CAACG,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAACiB,UAAJjB,GACGY,IADHZ,CACQ,UAACa,GAAD;QAAA,OAASL,OAAO,CAACK,GAAD,CAAhB;MADR,GAEGC,KAFHd,CAES,UAACe,GAAD;QAAA,OAASN,MAAM,CAACM,GAAD,CAAf;MAFT;IAL4C,EAAN;EAAX;AAAtB,E,CAAA;AAWP;AACA;;;AACO,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAACrB,KAAD;EAAA,OAAW,UAACsB,QAAD,EAAWC,UAAX;IAAA,OAA0B,IAAIb,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACrG,IAAMT,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;;MACA,IAAI,CAACG,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAACqB,qBAAJrB,CAA0BmB,QAA1BnB,EAAoCoB,UAApCpB,EACGY,IADHZ,CACQ,UAACa,GAAD;QAAA,OAASL,OAAO,CAACK,GAAD,CAAhB;MADR,GAEGC,KAFHd,CAES,UAACe,GAAD;QAAA,OAASN,MAAM,CAACM,GAAD,CAAf;MAFT;IALoE,EAA1B;EAAX;AAA1B;;AAUA,IAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,CAACzB,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAaC,iBAAb,EAAmC;IAC9E,IAAMxB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjB,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;UACtB,IAAIC,UAAU,GAAG,IAAjB;UACA,IAAMC,cAAc,GAAG,IAAIxB,OAAJ,CAAY,UAACyB,QAAD,EAAWC,OAAX,EAAuB;YACxDH,UAAU,GAAGF,OAAO,CAACM,eAARN,CAAwBJ,iBAAxBI,EAA2C,UAACf,GAAD,EAAME,GAAN,EAAc;cACpE,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;cACA,IAAIqC,OAAO,GAAGxB,GAAd;cACA,IAAIyB,KAAK,GAAGvB,GAAZ;;cACA,IAAIoB,UAAJ,EAAgB;gBACdE,OAAO,GAAGtB,GAAVsB;gBACAC,KAAK,GAAGzB,GAARyB;cACD;;cACD,IAAIA,KAAJ,EAAW;gBACTL,OAAO,CAACK,KAAD,CAAPL;gBACA;cACD;;cACDD,QAAQ,CAACK,OAAD,CAARL;cACAP,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;gBACEY,OAAO,EAAPA,OADF;gBAEET,OAAO,EAAPA;cAFF,CAFFH;YAbW,EAAbK;YAqBAL,MAAM,CAACc,OAAPd,CACEe,kBADFf,EAEE;cACEY,OAAO,EAAEP,UADX;cAEEF,OAAO,EAAPA;YAFF,CAFFH;UAtBqB,EAAvB;;UA8BAM,cAAc,CAACU,GAAfV,GAAqB;YAAA,OAAMD,UAAN;UAArB;;UACA,OAAOC,cAAP;QAjCF;;QAmCAvB,OAAO,CAACqB,SAAS,EAAV,CAAPrB;MArCJ,GAuCGM,KAvCHd,CAuCSS,MAvCTT;IAJK,EAAP;EAHgC;AAA3B;;AAiDA,IAAM0C,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC7C,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAaoB,iBAAb,EAAsD;IAAA,IAAtBC,UAAsB,uEAAT,IAAS;IACjG,IAAM5C,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjB,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;UACtB,IAAIC,UAAU,GAAG,IAAjB;UACA,IAAIe,aAAa,GAAG,IAApB;UACA,IAAMd,cAAc,GAAG,IAAIxB,OAAJ,CAAY,UAACyB,QAAD,EAAWC,OAAX,EAAuB;YACxDH,UAAU,GAAGF,OAAO,CAACkB,eAARlB,CACXe,iBADWf,EAEX,UAACmB,KAAD,EAAW;cACT;cACA;cACA,IAAIH,UAAU,IAAIG,KAAlB,EAAyB;gBACvBF,aAAa,GAAGE,KAAhBF;cACD;YAPQ,GASX,UAAChC,GAAD,EAAME,GAAN,EAAc;cACZ,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;cACA,IAAIqC,OAAO,GAAGxB,GAAd;cACA,IAAIyB,KAAK,GAAGvB,GAAZ;;cACA,IAAIoB,UAAJ,EAAgB;gBACdE,OAAO,GAAGtB,GAAVsB;gBACAC,KAAK,GAAGzB,GAARyB;cACD;;cAED,IAAI,CAACO,aAAL,EAAoB;gBAClB,IAAIP,KAAJ,EAAW;kBACTL,OAAO,CAACK,KAAD,CAAPL;gBADF,OAEO;kBACLD,QAAQ,CAACK,OAAD,CAARL;kBACAP,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;oBACEY,OAAO,EAAPA,OADF;oBAEET,OAAO,EAAPA;kBAFF,CAFFH;gBAOD;;gBACD;cAtBU;;;cAyBZO,QAAQ,CAAC,IAAIzB,OAAJ,CAAY,UAACyC,QAAD,EAAWC,OAAX,EAAuB;gBAC1CL,UAAU,CAACC,aAAD,CAAVD;;gBACA,IAAIN,KAAJ,EAAW;kBACTW,OAAO,CAACX,KAAD,CAAPW;kBACA;gBACD;;gBACDD,QAAQ,CAACX,OAAD,CAARW;gBACAvB,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;kBACEY,OAAO,EAAPA,OADF;kBAEET,OAAO,EAAPA;gBAFF,CAFFH;cAPO,EAAD,CAARO;YAlCS,EAAbF;UADqB,EAAvB;;UAqDA,IAAIa,iBAAiB,CAACO,IAAtB,EAA4B;YAC1B;YACA;YACA;YACApB,UAAU,CAACqB,QAAXrB,GAAsBsB,GAAG,CAACC,eAAJD,CAAoBT,iBAAiB,CAACO,IAAtCE,CAAtBtB;UACD;;UACD,IAAIa,iBAAiB,CAACW,OAAtB,EAA+B;YAC7B;YACAxB,UAAU,CAACqB,QAAXrB,GAAsBa,iBAAiB,CAACW,OAAxCxB;UAhEoB;;;UAmEtBA,UAAU,CAACyB,YAAXzB,GAA0B,SAA1BA;UACAL,MAAM,CAACc,OAAPd,CACEe,kBADFf,EAEE;YACEY,OAAO,EAAEP,UADX;YAEEF,OAAO,EAAPA;UAFF,CAFFH;;UAOAM,cAAc,CAACU,GAAfV,GAAqB;YAAA,OAAMD,UAAN;UAArB;;UACA,OAAOC,cAAP;QA5EF;;QA8EAvB,OAAO,CAACqB,SAAS,EAAV,CAAPrB;MAhFJ,GAkFGM,KAlFHd,CAkFSS,MAlFTT;IAJK,EAAP;EAHgC;AAA3B;;AA4FA,IAAMwD,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAC3D,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAakC,SAAb,EAAwBC,MAAxB,EAAmC;IAChF,IAAM1D,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAAC+B,iBAAR/B,CAA0B6B,SAA1B7B,EAAqC8B,MAArC9B,EAA6C,UAACf,GAAD,EAAME,GAAN,EAAc;UACzD,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;UACA,IAAIqC,OAAO,GAAGxB,GAAd;UACA,IAAIyB,KAAK,GAAGvB,GAAZ;;UACA,IAAIoB,UAAJ,EAAgB;YACdE,OAAO,GAAGtB,GAAVsB;YACAC,KAAK,GAAGzB,GAARyB;UACD;;UAED,IAAIA,KAAJ,EAAW;YACT7B,MAAM,CAAC6B,KAAD,CAAN7B;YACA;UACD;;UACDD,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,mBADFf,EAEE;YACEY,OAAO,EAAPA,OADF;YAEET,OAAO,EAAPA,OAFF;YAGE;YACA;YACAgC,YAAY,EAAE;UALhB,CAFFnC;QAdF;MAFJ,GA4BGX,KA5BHd,CA4BSS,MA5BTT;IAJK,EAAP;EAHkC;AAA7B;;AAsCA,IAAM6D,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAChE,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAac,OAAb,EAAyB;IAClE,IAAMrC,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjB,IAAQ6B,SAAR,GAAsBpB,OAAtB,CAAQoB,SAAR;QACA7B,OAAO,CAACkC,aAARlC,CAAsBS,OAAtBT,EAA+B,UAACf,GAAD,EAAME,GAAN,EAAc;UAC3C,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;UACA,IAAIsC,KAAK,GAAGvB,GAAZ;;UACA,IAAIoB,UAAJ,EAAgB;YACdG,KAAK,GAAGzB,GAARyB;UACD;;UAED,IAAIA,KAAJ,EAAW;YACT7B,MAAM,CAAC6B,KAAD,CAAN7B;YACA;UACD;;UACDD,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,cADFf,EAEE;YACEgC,SAAS,EAATA,SADF;YAEE7B,OAAO,EAAPA;UAFF,CAFFH;QAZF;MAHJ,GAwBGX,KAxBHd,CAwBSS,MAxBTT;IAJK,EAAP;EAH8B;AAAzB;;AAmCA,IAAM+D,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAClE,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAayC,aAAb,EAA+B;IAC5E,IAAMhE,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAACqC,iBAARrC,CAA0BoC,aAA1BpC,EACGhB,IADHgB,CACQ,UAACS,OAAD,EAAa;UACjB7B,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;YACEY,OAAO,EAAPA,OADF;YAEET,OAAO,EAAPA;UAFF,CAFFH;QAHJ,GAWGX,KAXHc,CAWSnB,MAXTmB;MAFJ,GAeGd,KAfHd,CAeSS,MAfTT;IAJK,EAAP;EAHkC;AAA7B;;AA0BA,IAAMkE,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACrE,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAayC,aAAb,EAA+B;IAC5E,IAAMhE,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAACuC,iBAARvC,CAA0BoC,aAA1BpC,EACGhB,IADHgB,CACQ,UAACS,OAAD,EAAa;UACjB7B,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;YACEY,OAAO,EAAPA,OADF;YAEET,OAAO,EAAPA;UAFF,CAFFH;QAHJ,GAWGX,KAXHc,CAWSnB,MAXTmB;MAFJ,GAeGd,KAfHd,CAeSS,MAfTT;IAJK,EAAP;EAHkC;AAA7B;;AA0BA,IAAMoE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACvE,KAAD;EAAA,OAAW,UAAC6D,MAAD,EAAY;IACrD,IAAM1D,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiBqE,aAAjBrE,CAA+B0D,MAA/B1D,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBpB,OAAO,CAACoB,OAAD,CAAPpB;QACAiB,MAAM,CAACc,OAAPd,CACEe,cADFf,EAEE;UACEG,OAAO,EAAPA;QADF,CAFFH;MAHJ,GAUGX,KAVHd,CAUSS,MAVTT;IAJK,EAAP;EAH8B;AAAzB;;AAqBA,IAAMsE,eAAe,GAAG,SAAlBA,eAAkB,CAACzE,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAgB;IACxD,IAAMvB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAAC2C,KAAR3C,GACGhB,IADHgB,CACQ,YAAM;UACVpB,OAAO,CAACoB,OAAD,CAAPpB;UACAiB,MAAM,CAACc,OAAPd,CACEe,aADFf,EAEE;YACEG,OAAO,EAAPA;UADF,CAFFH;QAHJ,GAUGX,KAVHc,CAUSnB,MAVTmB;MAFJ,GAcGd,KAdHd,CAcSS,MAdTT;IAJK,EAAP;EAH6B;AAAxB;;AAyBA,IAAMwE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC3E,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAgB;IACzD,IAAMvB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAAC6C,MAAR7C,GACGhB,IADHgB,CACQ,YAAM;UACV;UACApB,OAAO,CAACoB,OAAD,CAAPpB;QAHJ,GAKGM,KALHc,CAKSnB,MALTmB;MAFJ,GASGd,KATHd,CASSS,MATTT;IAJK,EAAP;EAF8B;AAAzB;;AAmBA,IAAM0E,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC7E,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAgB;IAC3D,IAAMvB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC0B,YAAJ1B,CAAiB2B,UAAjB3B,CAA4BuB,UAA5BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAAC+C,QAAR/C,GACGhB,IADHgB,CACQ,YAAM;UACV;UACApB,OAAO,CAACoB,OAAD,CAAPpB;QAHJ,GAKGM,KALHc,CAKSnB,MALTmB;MAFJ,GASGd,KATHd,CASSS,MATTT;IAJK,EAAP;EAFgC;AAA3B;;AAmBA,IAAM4E,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAC/E,KAAD;EAAA,OAAW,UAAC6D,MAAD,EAAY;IACzD,IAAM1D,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgBqE,aAAhBrE,CAA8B0D,MAA9B1D,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBpB,OAAO,CAACoB,OAAD,CAAPpB;MAFJ,GAIGM,KAJHd,CAISS,MAJTT;IAJK,EAAP;EAFkC;AAA7B;;AAaA,IAAM8E,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACjF,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAgB;IACzD,IAAMvB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EAAuC,UAAC+E,WAAD,EAAczC,KAAd,EAAwB;QAC7D,IAAIA,KAAJ,EAAW;UACT7B,MAAM,CAAC,IAAIC,KAAJ,CAAU4B,KAAV,CAAD,CAAN7B;UACA;QACD;;QAEDsE,WAAW,CAACC,KAAZD,CAAkB,UAACE,QAAD,EAAWC,UAAX,EAA0B;UAC1C,IAAI5C,KAAJ,EAAW;YACT7B,MAAM,CAAC,IAAIC,KAAJ,CAAUwE,UAAV,CAAD,CAANzE;YACA;UACD;;UACDD,OAAO,CAACyE,QAAD,CAAPzE;QALF;MANF;IAJK,EAAP;EAF8B;AAAzB;;AAuBA,IAAM2E,eAAe,GAAG,SAAlBA,eAAkB,CAACtF,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAgB;IACxD,IAAMvB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EAAuC,UAAC+E,WAAD,EAAczC,KAAd,EAAwB;QAC7D,IAAIA,KAAJ,EAAW;UACT7B,MAAM,CAAC,IAAIC,KAAJ,CAAU4B,KAAV,CAAD,CAAN7B;UACA;QACD;;QAEDsE,WAAW,CAACK,IAAZL,CAAiB,UAACE,QAAD,EAAWI,SAAX,EAAyB;UACxC,IAAI/C,KAAJ,EAAW;YACT7B,MAAM,CAAC,IAAIC,KAAJ,CAAU2E,SAAV,CAAD,CAAN5E;YACA;UACD;;UACDD,OAAO,CAACyE,QAAD,CAAPzE;QALF;MANF;IAJK,EAAP;EAF6B;AAAxB;;AAuBA,IAAM8E,6BAA6B,GAAG,SAAhCA,6BAAgC,CAACzF,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAaC,iBAAb,EAAmC;IACzF,IAAMxB,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjB,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;UACtB,IAAIC,UAAU,GAAG,IAAjB;UACA,IAAMC,cAAc,GAAG,IAAIxB,OAAJ,CAAY,UAACyB,QAAD,EAAWC,OAAX,EAAuB;YACxDH,UAAU,GAAGF,OAAO,CAACM,eAARN,CAAwBJ,iBAAxBI,EAA2C,UAACf,GAAD,EAAME,GAAN,EAAc;cACpE,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;cACA,IAAIqC,OAAO,GAAGxB,GAAd;cACA,IAAIyB,KAAK,GAAGvB,GAAZ;;cACA,IAAIoB,UAAJ,EAAgB;gBACdE,OAAO,GAAGtB,GAAVsB;gBACAC,KAAK,GAAGzB,GAARyB;cACD;;cACD,IAAIA,KAAJ,EAAW;gBACTL,OAAO,CAACK,KAAD,CAAPL;gBACA;cACD;;cACDD,QAAQ,CAACK,OAAD,CAARL;cACAP,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;gBACEY,OAAO,EAAPA,OADF;gBAEET,OAAO,EAAPA;cAFF,CAFFH;YAbW,EAAbK;YAqBAL,MAAM,CAACc,OAAPd,CACEe,kBADFf,EAEE;cACEY,OAAO,EAAEP,UADX;cAEEF,OAAO,EAAPA;YAFF,CAFFH;UAtBqB,EAAvB;;UA8BAM,cAAc,CAACU,GAAfV,GAAqB;YAAA,OAAMD,UAAN;UAArB;;UACA,OAAOC,cAAP;QAjCF;;QAmCAvB,OAAO,CAACqB,SAAS,EAAV,CAAPrB;MArCJ,GAuCGM,KAvCHd,CAuCSS,MAvCTT;IAJK,EAAP;EAH2C;AAAtC;;AAkDA,IAAMuF,6BAA6B,GAAG,SAAhCA,6BAAgC,CAAC1F,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAaoB,iBAAb,EAAmC;IACzF,IAAM3C,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjB,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;UACtB,IAAIC,UAAU,GAAG,IAAjB;UACA,IAAMC,cAAc,GAAG,IAAIxB,OAAJ,CAAY,UAACyB,QAAD,EAAWC,OAAX,EAAuB;YACxDH,UAAU,GAAGF,OAAO,CAACkB,eAARlB,CAAwBe,iBAAxBf,EAA2C,UAACf,GAAD,EAAME,GAAN,EAAc;cACpE,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;cACA,IAAIqC,OAAO,GAAGxB,GAAd;cACA,IAAIyB,KAAK,GAAGvB,GAAZ;;cACA,IAAIoB,UAAJ,EAAgB;gBACdE,OAAO,GAAGtB,GAAVsB;gBACAC,KAAK,GAAGzB,GAARyB;cACD;;cAED,IAAIA,KAAJ,EAAW;gBACTL,OAAO,CAACK,KAAD,CAAPL;gBACA;cACD;;cACDD,QAAQ,CAACK,OAAD,CAARL;cACAP,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;gBACEY,OAAO,EAAPA,OADF;gBAEET,OAAO,EAAPA;cAFF,CAFFH;YAdW,EAAbK;UADqB,EAAvB;;UAwBA,IAAIa,iBAAiB,CAACO,IAAtB,EAA4B;YAC1B;YACA;YACA;YACApB,UAAU,CAACqB,QAAXrB,GAAsBsB,GAAG,CAACC,eAAJD,CAAoBT,iBAAiB,CAACO,IAAtCE,CAAtBtB;UACD;;UACD,IAAIa,iBAAiB,CAACW,OAAtB,EAA+B;YAC7B;YACAxB,UAAU,CAACqB,QAAXrB,GAAsBa,iBAAiB,CAACW,OAAxCxB;UAlCoB;;;UAqCtBA,UAAU,CAACyB,YAAXzB,GAA0B,SAA1BA;UACAL,MAAM,CAACc,OAAPd,CACEe,kBADFf,EAEE;YACEY,OAAO,EAAEP,UADX;YAEEF,OAAO,EAAPA;UAFF,CAFFH;;UAOAM,cAAc,CAACU,GAAfV,GAAqB;YAAA,OAAMD,UAAN;UAArB;;UACA,OAAOC,cAAP;QA9CF;;QAgDAvB,OAAO,CAACqB,SAAS,EAAV,CAAPrB;MAlDJ,GAoDGM,KApDHd,CAoDSS,MApDTT;IAJK,EAAP;EAH2C;AAAtC;;AA+DA,IAAMwF,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAC3F,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAakC,SAAb,EAAwBC,MAAxB,EAAmC;IAC3F,IAAM1D,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAAC+B,iBAAR/B,CAA0B6B,SAA1B7B,EAAqC8B,MAArC9B,EAA6C,UAACf,GAAD,EAAME,GAAN,EAAc;UACzD,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;UACA,IAAIqC,OAAO,GAAGxB,GAAd;UACA,IAAIyB,KAAK,GAAGvB,GAAZ;;UACA,IAAIoB,UAAJ,EAAgB;YACdE,OAAO,GAAGtB,GAAVsB;YACAC,KAAK,GAAGzB,GAARyB;UACD;;UAED,IAAIA,KAAJ,EAAW;YACT7B,MAAM,CAAC6B,KAAD,CAAN7B;YACA;UACD;;UACDD,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,mBADFf,EAEE;YACEY,OAAO,EAAPA,OADF;YAEET,OAAO,EAAPA,OAFF;YAGE;YACA;YACAgC,YAAY,EAAE;UALhB,CAFFnC;QAdF;MAFJ,GA4BGX,KA5BHd,CA4BSS,MA5BTT;IAJK,EAAP;EAH6C;AAAxC;;AAuCA,IAAMyF,2BAA2B,GAAG,SAA9BA,2BAA8B,CAAC5F,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAac,OAAb,EAAyB;IAC7E,IAAMrC,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjB,IAAQ6B,SAAR,GAAsBpB,OAAtB,CAAQoB,SAAR;QACA7B,OAAO,CAACkC,aAARlC,CAAsBS,OAAtBT,EAA+B,UAACf,GAAD,EAAME,GAAN,EAAc;UAC3C,IAAMoB,UAAU,GAAGnC,GAAG,CAACoC,qBAAJpC,EAAnB;UACA,IAAIsC,KAAK,GAAGvB,GAAZ;;UACA,IAAIoB,UAAJ,EAAgB;YACdG,KAAK,GAAGzB,GAARyB;UACD;;UAED,IAAIA,KAAJ,EAAW;YACT7B,MAAM,CAAC6B,KAAD,CAAN7B;YACA;UACD;;UACDD,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,cADFf,EAEE;YACEgC,SAAS,EAATA,SADF;YAEE7B,OAAO,EAAPA;UAFF,CAFFH;QAZF;MAHJ,GAwBGX,KAxBHd,CAwBSS,MAxBTT;IAJK,EAAP;EAHyC;AAApC;;AAmCA,IAAM0F,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAC7F,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAayC,aAAb,EAA+B;IACvF,IAAMhE,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAACqC,iBAARrC,CAA0BoC,aAA1BpC,EACGhB,IADHgB,CACQ,UAACS,OAAD,EAAa;UACjB7B,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;YACEY,OAAO,EAAPA,OADF;YAEET,OAAO,EAAPA;UAFF,CAFFH;QAHJ,GAWGX,KAXHc,CAWSnB,MAXTmB;MAFJ,GAeGd,KAfHd,CAeSS,MAfTT;IAJK,EAAP;EAH6C;AAAxC;;AA0BA,IAAM2F,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAC9F,KAAD;EAAA,OAAW,UAAC0B,UAAD,EAAayC,aAAb,EAA+B;IACvF,IAAMhE,GAAG,GAAGJ,MAAM,CAACC,KAAD,CAAlB;IACA,IAAM4B,MAAM,GAAGxB,SAAS,CAACJ,KAAD,CAAxB;IACA,OAAO,IAAIU,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtC,IAAI,CAACT,GAAL,EAAU;QACRS,MAAM,CAAC,IAAIC,KAAJ,CAAU,eAAV,CAAD,CAAND;MACD;;MACDT,GAAG,CAAC6E,WAAJ7E,CAAgB2B,UAAhB3B,CAA2BuB,UAA3BvB,EACGY,IADHZ,CACQ,UAAC4B,OAAD,EAAa;QACjBA,OAAO,CAACuC,iBAARvC,CAA0BoC,aAA1BpC,EACGhB,IADHgB,CACQ,UAACS,OAAD,EAAa;UACjB7B,OAAO,CAAC6B,OAAD,CAAP7B;UACAiB,MAAM,CAACc,OAAPd,CACEe,iBADFf,EAEE;YACEY,OAAO,EAAPA,OADF;YAEET,OAAO,EAAPA;UAFF,CAFFH;QAHJ,GAWGX,KAXHc,CAWSnB,MAXTmB;MAFJ,GAeGd,KAfHd,CAeSS,MAfTT;IAJK,EAAP;EAH6C;AAAxC;;AA0BP,gBAAe;EACbJ,MAAM,EAANA,MADa;EAEbQ,UAAU,EAAVA,UAFa;EAGbY,aAAa,EAAbA,aAHa;EAIbE,iBAAiB,EAAjBA,iBAJa;EAKbI,kBAAkB,EAAlBA,kBALa;EAMboB,kBAAkB,EAAlBA,kBANa;EAObc,oBAAoB,EAApBA,oBAPa;EAQbK,gBAAgB,EAAhBA,gBARa;EASbE,oBAAoB,EAApBA,oBATa;EAUbG,oBAAoB,EAApBA,oBAVa;EAWbM,gBAAgB,EAAhBA,gBAXa;EAYbE,kBAAkB,EAAlBA,kBAZa;EAabN,gBAAgB,EAAhBA,gBAba;EAcbE,eAAe,EAAfA,eAda;EAebM,oBAAoB,EAApBA,oBAfa;EAgBbgB,mBAAmB,EAAEd,gBAhBR;EAiBbe,kBAAkB,EAAEV,eAjBP;EAkBbG,6BAA6B,EAA7BA,6BAlBa;EAmBbC,6BAA6B,EAA7BA,6BAnBa;EAoBbC,+BAA+B,EAA/BA,+BApBa;EAqBbC,2BAA2B,EAA3BA,2BArBa;EAsBbC,+BAA+B,EAA/BA,+BAtBa;EAuBbC,+BAA+B,EAA/BA;AAvBa,CAAf;;ACxqBA,SAASG,WAAT,CAAqBC,EAArB;MACEC,IAAI;MACJC,aAAa;MACbjG,GAAG;MACHkG,MAAM;MACNC;MAAAC,gBAAgB,mBAAG,KAAH,GAAGD;MACnB9B,aAAa;MACbgC,SAAS;EAED,aAAS,GAAK9I,UAAU,CAACC,mBAAD,CAAVD,UAAd;EACR,oBACE3E;IAAKQ,SAAS,EAAC;EAAfR,gBACEA;IAASQ,SAAS,EAAC;EAAnBR,gBACEA,6BAAC0N,MAAD1N;IACE2B,MAAM,EAAC,MADT;IAEED,KAAK,EAAC,MAFR;IAGEiM,GAAG,EAAEP,IAAI,CAAC5E;EAHZ,EADFxI,CADFA,eAQEA;IAASQ,SAAS,EAAC;EAAnBR,gBACEA,6BAACuD,KAADvD;IACE4B,IAAI,EAAE4B,eAAe,CAACoK,GADxB;IAEElK,KAAK,EAAEC,WAAW,CAACU;EAFrB,GAIG+I,IAAI,CAACS,QAALT,IAAiBvI,SAAS,CAACiJ,OAJ9B9N,CADFA,CARFA,EAiBKoN,IAAI,CAAC3F,MAAL2F,KAAgBC,aAAhBD,IAAkC,CAACI,gBAAnCJ,IAAD,aACEpN;IAASQ,SAAS,EAAC;EAAnBR,gBACEA,6BAACqD,MAADrD;IACE4B,IAAI,EAAEiC,WAAW,CAACjB,SADpB;IAEEf,OAAO,EAAE;MACP,IAAMiJ,MAAM,GAAG,IAAI1D,GAAG,CAAC2G,kBAAR,EAAf;MACAjD,MAAM,CAACkD,UAAPlD,GAAoB,IAApBA;MACAA,MAAM,CAACmD,UAAPnD,CAAkB,CAACsC,IAAI,CAAC3F,MAAN,CAAlBqD;MACA2C,SAAS;MACThC,aAAa,CAACX,MAAD,CAAbW,CACGzD,IADHyD,CACQ,UAACyC,YAAD;QACJZ,MAAM,CAACa,IAAPb,CAAY,6BAAZA,EAA2CY,YAA3CZ;MAFJ;IAID;EAXH,GAaGzI,SAAS,CAACuJ,qBAbbpO,CADFA,CAlBNA,eAqCEA;IAAKQ,SAAS,EAAC;EAAfR,EArCFA,eAsCEA;IAASQ,SAAS,EAAC;EAAnBR,gBACEA,6BAACuD,KAADvD;IACEQ,SAAS,EAAC,sCADZ;IAEEoB,IAAI,EAAE4B,eAAe,CAAC6K,SAFxB;IAGE3K,KAAK,EAAEC,WAAW,CAACoC;EAHrB,GAKGlB,SAAS,CAACyJ,qBALbtO,CADFA,eAQEA,6BAACuD,KAADvD;IACEQ,SAAS,EAAC,sCADZ;IAEEoB,IAAI,EAAE4B,eAAe,CAAC+K,MAFxB;IAGE7K,KAAK,EAAEC,WAAW,CAACU;EAHrB,GAKG+I,IAAI,CAAC3F,MALRzH,CARFA,CAtCFA,CADF;AAyDD;;AAED,IAAMwO,eAAe,GAAG,SAAlBA,eAAkB,CAACvH,KAAD;EAAW,OAAC;IAClCG,GAAG,EAAEJ,MAAM,CAACC,KAAD,CADuB;IAElCwE,aAAa,EAAED,gBAAgB,CAACvE,KAAD,CAFG;IAGlCqG,MAAM,EAAErG,KAAK,CAACK,MAANL,CAAaqG,MAHa;IAIlCzE,MAAM,EAAE5B,KAAK,CAACK,MAANL,CAAaM;EAJa,CAAD;AAAnC;;IAOMkH,oBAAoB,GAAGC,mBAAmB,CAACxB,WAAD,EAAcsB,eAAd;ACjGhD,IAAMG,iBAAiB,GAAG,4BAA1B;;IAEqBC;;;;;EACnB,mBAAYtO,KAAZ,EAAmB;IAAA;;IAAAuO;;IACjBC,0BAAMxO,KAAN;;IADiByO,6DAyBN,YAAM;MACjB,4BAAkCD,MAAKxO,KAAL,CAA1B0O,gBAAR;MAAA,IAAQA,gBAAR,sCAA2B,EAA3B;MACA,IAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;MACA,IAAID,gBAAgB,IAAIC,OAAxB,EAAiC;QAC/BA,OAAO,CAACC,SAARD,CAAkBE,GAAlBF,CAAsB,wBAAtBA;MACD;IA9BgB;;IAAAF,6DAiCN,YAAM;MACjB,6BAAkCD,MAAKxO,KAAL,CAA1B0O,gBAAR;MAAA,IAAQA,gBAAR,uCAA2B,EAA3B;MACA,IAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;MACA,IAAID,gBAAgB,IAAIC,OAAxB,EAAiC;QAC/BA,OAAO,CAACC,SAARD,CAAkBG,MAAlBH,CAAyB,wBAAzBA;MACD;IAtCgB;;IAAAF,8DAyCL,YAAM;MAClB,IAAQM,aAAR,GAA0BP,MAAKxO,KAAL,CAAlB+O,aAAR;;MACA;MAAA,IAAQC,OAAR,yBAAQA,OAAR;;MACA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACpF,KAAD,EAAW;QACpC,IAAImF,OAAO,CAACL,OAARK,IAAmB,CAACA,OAAO,CAACL,OAARK,CAAgBE,QAAhBF,CAAyBnF,KAAK,CAACsF,MAA/BH,CAAxB,EAAgE;UAC9DD,aAAa;QACd;MAHH;;MAKAP,MAAKY,QAAL,CAAc;QACZH,kBAAkB,EAAlBA;MADY,CAAd;;MAIAtK,QAAQ,CAAC0K,gBAAT1K,CAA0B,WAA1BA,EAAuCsK,kBAAvCtK;IArDiB;;IAAA8J,gEAwDH,YAAM;MACpB,IACEQ,kBADF,GAEIT,MAAKc,KAAL,CADFL,kBADF;MAGAtK,QAAQ,CAAC4K,mBAAT5K,CAA6B,WAA7BA,EAA0CsK,kBAA1CtK;IA5DiB;;IAAA8J,kEA+DD,YAAM;MACtB,kBAAgCD,MAAKxO,KAArC;MAAA,IAAQwP,SAAR,eAAQA,SAAR;MAAA,IAAmBC,QAAnB,eAAmBA,QAAnB;MACA,IAAMC,UAAU,GAAGF,SAAS,CAACb,OAAVa,CAAkBG,qBAAlBH,EAAnB;MACA,IAAMI,CAAC,GAAGF,UAAU,CAACE,CAAXF,IAAgBA,UAAU,CAACG,IAArC;MACA,IAAMC,CAAC,GAAGJ,UAAU,CAACI,CAAXJ,IAAgBA,UAAU,CAACK,GAArC;MACA,IAAMC,SAAS,GAAG;QAChBD,GAAG,EAAED,CADW;QAEhBD,IAAI,EAAED;MAFU,CAAlB;MAKA,IAAI,CAACpB,MAAKQ,OAAL,CAAaL,OAAlB,EAA2B,OAAOqB,SAAP;MAE3B,cAAoCC,MAApC;MAAA,IAAQC,UAAR,WAAQA,UAAR;MAAA,IAAoBC,WAApB,WAAoBA,WAApB;;MACA,IAAMC,IAAI,GAAG5B,MAAKQ,OAAL,CAAaL,OAAb,CAAqBgB,qBAArB,EAAb;;MACA,IAAIG,CAAC,GAAGM,IAAI,CAAC/O,MAATyO,GAAkBK,WAAtB,EAAmC;QACjCH,SAAS,CAACD,GAAVC,IAAiBI,IAAI,CAAC/O,MAAtB2O;MACD;;MAED,IAAIJ,CAAC,GAAGQ,IAAI,CAAChP,KAATwO,GAAiBM,UAAjBN,IAA+B,CAACH,QAApC,EAA8C;QAC5CO,SAAS,CAACH,IAAVG,IAAkBI,IAAI,CAAChP,KAAvB4O;MACD;;MAED,IAAIA,SAAS,CAACD,GAAVC,GAAgB,CAApB,EAAuB;QACrBA,SAAS,CAACD,GAAVC,GAAgBI,IAAI,CAAC/O,MAAL+O,GAAcD,WAAdC,GAA4B,CAACD,WAAW,GAAGC,IAAI,CAAC/O,MAApB,IAA8B,CAA1D+O,GAA8D,CAA9EJ;MACD;;MAED,IAAIA,SAAS,CAACH,IAAVG,GAAiB,CAArB,EAAwB;QACtBA,SAAS,CAACH,IAAVG,GAAiBI,IAAI,CAAChP,KAALgP,GAAaF,UAAbE,GAA0B,CAACF,UAAU,GAAGE,IAAI,CAAChP,KAAnB,IAA4B,CAAtDgP,GAA0D,CAA3EJ;MACD;;MAEDA,SAAS,CAACD,GAAVC,IAAiB,EAAjBA;;MACA,IAAIP,QAAJ,EAAc;QACZ,IAAMY,OAAO,GAAGC,MAAM,CAACC,KAAPD,CAAaF,IAAI,CAAChP,KAALgP,GAAa,EAA1BE,IACZ,GADYA;QAAAA,EAEZF,IAAI,CAAChP,KAALgP,GAAa,EAFjB;QAGAJ,SAAS,CAACH,IAAVG,IAAkBK,OAAlBL;MACD;;MAED,OAAOxB,MAAKY,QAAL,CAAc;QAAEY,SAAS,EAATA;MAAF,CAAd,CAAP;IArGiB;;IAEjBxB,MAAKQ,OAAL,gBAAetP,cAAK,CAAC8Q,SAAN9Q,EAAf;IACA8O,MAAKiC,YAAL,GAAoB9L,QAAQ,CAACC,IAA7B;IACA4J,MAAKc,KAAL,GAAa;MACXU,SAAS,EAAE,EADA;MAEXf,kBAAkB,EAAE,8BAAM;IAFf,CAAb;IAJiB;EAQlB;;;;WAED,6BAAoB;MAClB,KAAKyB,WAAL;MACA,KAAKC,eAAL;MACA,KAAKC,UAAL,GAHkB;;MAKlB,KAAKH,YAAL,CAAkBvQ,SAAlB,aAAiCmO,iBAAjC,cAAsD,KAAKoC,YAAL,CAAkBvQ,SAAxE;IACD;;;WAED,gCAAuB;MACrB,KAAK2Q,aAAL;MACA,KAAKC,UAAL,GAFqB;;MAIrB,KAAKL,YAAL,CAAkBvQ,SAAlB,GAA8B,KAAKuQ,YAAL,CAAkBvQ,SAAlB,CAA4B4E,KAA5B,CAAkC,GAAlC,EAAuCC,MAAvC,CAA8C,UAAC7E,SAAD;QAAA,OAAeA,SAAS,KAAKmO,iBAA7B;MAA9C,GAA8FrM,IAA9F,CAAmG,GAAnG,CAA9B;IACD;;;WAiFD,kBAAS;MACP,IAAQgO,SAAR,GAAsB,KAAKV,KAAL,CAAdU,SAAR;MACA,mBAA4B,KAAKhQ,KAAjC;MAAA,IAAQC,QAAR,gBAAQA,QAAR;MAAA,IAAkBwB,KAAlB,gBAAkBA,KAAlB;MACA,oBACEuD,YAAY,eAERtF,yEACEA;QAAKQ,SAAS,EAAC;MAAfR,EADFA,eAEEA;QACEQ,SAAS,EAAC,yBADZR;QAEEwB,GAAG,EAAE,KAAK8N,OAFZtP;QAGE+B,KAAK;UACHsP,OAAO,EAAE,cADN;UAEHC,QAAQ,EAAE,OAFP;UAGHnB,IAAI,YAAKoB,IAAI,CAACC,KAALD,CAAWjB,SAAS,CAACH,IAArBoB,CAAL,OAHD;UAIHlB,GAAG,YAAKkB,IAAI,CAACC,KAALD,CAAWjB,SAAS,CAACD,GAArBkB,CAAL;QAJA,GAKAxP,KALA;MAHP/B,GAWGO,QAXHP,CAFFA,CAFQ,EAmBViF,QAAQ,CAACY,cAATZ,CAAwB,0BAAxBA,CAnBU,CADd;IAuBD;;;;CAnIkB2J,CAAkB6C,SAAlB7C;;AAqIrBA,WAAS,CAACjO,SAAViO,GAAsB;EACpBS,aAAa,EAAEzO,SAAS,CAACO,IAAVP,CAAeK,UADV;EAEpBV,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OADkB,EAE5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAF4B,CAApBA,EAGPK,UALiB;EAMpBc,KAAK,EAAEnB,SAAS,CAAC4B,KAAV5B,CAAgB,EAAhBA,CANa;EAOpB;EACAkP,SAAS,EAAElP,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACO,IADmB,EAE7BP,SAAS,CAAC4B,KAAV5B,CAAgB;IAAEqO,OAAO,EAAErO,SAAS,CAAC8Q,UAAV9Q,CAAqBA,SAAS,CAACE,OAA/BF;EAAX,CAAhBA,CAF6B,CAApBA,EAGRK,UAXiB;EAYpB+N,gBAAgB,EAAEpO,SAAS,CAACC,SAAVD,CAAoB,CACpCA,SAAS,CAACO,IAD0B,EAEpCP,SAAS,CAAC4B,KAAV5B,CAAgB;IAAEqO,OAAO,EAAErO,SAAS,CAAC8Q,UAAV9Q,CAAqBA,SAAS,CAACE,OAA/BF;EAAX,CAAhBA,CAFoC,CAApBA,EAGfK,UAfiB;EAgBpB8O,QAAQ,EAAEnP,SAAS,CAACM;AAhBA,CAAtB0N;AAkBAA,WAAS,CAACvN,YAAVuN,GAAyB;EACvB7M,KAAK,EAAE,EADgB;EAEvBgO,QAAQ,EAAE;AAFa,CAAzBnB;ACxJA,IAAM+C,kBAAkB,GAAG,sBAA3B;;AACe,SAASC,SAAT,OAMZ;EAAA,IALDpR,SAKC,QALDA,SAKC;EAAA,IAJDqR,YAIC,QAJDA,YAIC;EAAA,IAHDC,SAGC,QAHDA,SAGC;EAAA,IAFDC,UAEC,QAFDA,UAEC;EAAA,IADDxR,QACC,QADDA,QACC;;EACD,IAAIA,QAAQ,CAACyR,MAATzR,GAAkBsR,YAAtB,EAAoC;IAClC,IAAMI,MAAM,GAAG,EAAf;;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG3R,QAAQ,CAACyR,MAA7B,EAAqCE,CAAC,IAAIL,YAA1C,EAAwD;MACtDI,MAAM,CAACE,IAAPF,eACEjS;QACEQ,SAAS,EAAE,6BACL4B,KAAK,CAACC,OAAND,CAAc5B,SAAd4B,IAA2B5B,SAA3B4B,GAAuC,CAAC5B,SAAD,CADlC,IAETmR,kBAFS,GAGTrP,IAHS,CAGJ,GAHI,CADbtC;QAKEoS,GAAG,EAAE5R,SAAS,GAAG0R,CALnBlS;QAME+B,KAAK,EAAE;UACLL,KAAK,EAAEoQ,SAAS,GAAGD,YADd;UAELlQ,MAAM,EAAEoQ;QAFH;MANT/R,GAYIO,QAAQ,CAAC8R,KAAT9R,CAAe2R,CAAf3R,EAAkB2R,CAAC,GAAGL,YAAtBtR,CAZJP,CADFiS;IAiBD;;IACD,OAAOA,MAAP;EACD;;EAED,oBACEjS;IACEQ,SAAS,EAAE,6BACL4B,KAAK,CAACC,OAAND,CAAc5B,SAAd4B,IAA2B5B,SAA3B4B,GAAuC,CAAC5B,SAAD,CADlC,IAETmR,kBAFS,GAGTrP,IAHS,CAGJ,GAHI,CADbtC;IAKE+B,KAAK,EAAE;MACLL,KAAK,EAAEoQ,SAAS,GAAGvR,QAAQ,CAACyR,MADvB;MAELrQ,MAAM,EAAEoQ;IAFH;EALT/R,GAUGO,QAVHP,CADF;AAcD;;AAED4R,SAAS,CAACjR,SAAViR,GAAsB;EACpBpR,SAAS,EAAEI,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACQ,MADmB,EAE7BR,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACQ,MAA5BR,CAF6B,CAApBA,CADS;EAKpBiR,YAAY,EAAEjR,SAAS,CAAC0R,MAAV1R,CAAiBK,UALX;EAMpB6Q,SAAS,EAAElR,SAAS,CAAC0R,MAAV1R,CAAiBK,UANR;EAOpB8Q,UAAU,EAAEnR,SAAS,CAAC0R,MAAV1R,CAAiBK,UAPT;EAQpBV,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OADkB,EAE5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAF4B,EAG5BA,SAAS,CAACQ,MAHkB,EAI5BR,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACQ,MAA5BR,CAJ4B,CAApBA,EAKPK;AAbiB,CAAtB2Q;AAgBAA,SAAS,CAACvQ,YAAVuQ,GAAyB;EACvBpR,SAAS,EAAE;AADY,CAAzBoR;AChEA,IAAMW,iBAAiB,GAAG,4BAA1B;;IAEqBC;;;;;EACnB,wBAAYlS,KAAZ,EAAmB;IAAA;;IAAAuO;;IACjBC,0BAAMxO,KAAN;;IADiByO,6DAyBN,YAAM;MACjB,4BAAkCD,MAAKxO,KAAL,CAA1B0O,gBAAR;MAAA,IAAQA,gBAAR,sCAA2B,EAA3B;MACA,IAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;MACA,IAAID,gBAAgB,IAAIC,OAAxB,EAAiC;QAC/BA,OAAO,CAACC,SAARD,CAAkBE,GAAlBF,CAAsB,6BAAtBA;MACD;IA9BgB;;IAAAF,6DAiCN,YAAM;MACjB,6BAAkCD,MAAKxO,KAAL,CAA1B0O,gBAAR;MAAA,IAAQA,gBAAR,uCAA2B,EAA3B;MACA,IAAQC,OAAR,GAAoBD,gBAApB,CAAQC,OAAR;;MACA,IAAID,gBAAgB,IAAIC,OAAxB,EAAiC;QAC/BA,OAAO,CAACC,SAARD,CAAkBG,MAAlBH,CAAyB,6BAAzBA;MACD;IAtCgB;;IAAAF,8DAyCL,YAAM;MAClB,IAAQM,aAAR,GAA0BP,MAAKxO,KAAL,CAAlB+O,aAAR;;MACA;MAAA,IAAQoD,WAAR,yBAAQA,WAAR;;MACA,IAAMlD,kBAAkB,GAAG,SAArBA,kBAAqB,CAACpF,KAAD,EAAW;QACpC,IAAIsI,WAAW,CAACxD,OAAZwD,IAAuB,CAACA,WAAW,CAACxD,OAAZwD,CAAoBjD,QAApBiD,CAA6BtI,KAAK,CAACsF,MAAnCgD,CAA5B,EAAwE;UACtEpD,aAAa;QACd;MAHH;;MAKAP,MAAKY,QAAL,CAAc;QACZH,kBAAkB,EAAlBA;MADY,CAAd;;MAGAtK,QAAQ,CAAC0K,gBAAT1K,CAA0B,WAA1BA,EAAuCsK,kBAAvCtK;IApDiB;;IAAA8J,gEAuDH,YAAM;MACpB,IACEQ,kBADF,GAEIT,MAAKc,KAAL,CADFL,kBADF;MAGAtK,QAAQ,CAAC4K,mBAAT5K,CAA6B,WAA7BA,EAA0CsK,kBAA1CtK;IA3DiB;;IAAA8J,iEA8DF,YAAM;MACrB;MACA,kBAGID,MAAKxO,KAHT;MAAA,IACEwP,SADF,eACEA,SADF;MAAA,IAEE4C,gBAFF,eAEEA,gBAFF;MAIA,IAAMC,iBAAiB,GAAGD,gBAAgB,CAACxC,CAAjBwC,IAAsB,CAAhD;MACA,IAAME,iBAAiB,GAAGF,gBAAgB,CAACtC,CAAjBsC,IAAsB,CAAhD;MAEA,IAAM1C,UAAU,GAAGF,SAAS,CAACb,OAAVa,CAAkBG,qBAAlBH,EAAnB;MAEA,IAAMI,CAAC,GAAGF,UAAU,CAACE,CAAXF,IAAgBA,UAAU,CAACG,IAArC;MACA,IAAMC,CAAC,GAAGJ,UAAU,CAACI,CAAXJ,IAAgBA,UAAU,CAACK,GAArC;MAEA,IAAMwC,aAAa,GAAG;QACpBxC,GAAG,EAAED,CADe;QAEpBD,IAAI,EAAED;MAFc,CAAtB;MAKA,IAAI,CAACpB,MAAK2D,WAAL,CAAiBxD,OAAtB,EAA+B,OAAO4D,aAAP;;MAC/B,IAAMnC,IAAI,GAAG5B,MAAK2D,WAAL,CAAiBxD,OAAjB,CAAyBgB,qBAAzB,EAAb;;MAEA,IAAI4C,aAAa,CAACxC,GAAdwC,GAAoBnC,IAAI,CAAC/O,MAA7B,EAAqC;QACnCkR,aAAa,CAACxC,GAAdwC,IAAqB7C,UAAU,CAACrO,MAAhCkR;QACAA,aAAa,CAACxC,GAAdwC,IAAqBD,iBAArBC;MAFF,OAGO;QACLA,aAAa,CAACxC,GAAdwC,IAAqBnC,IAAI,CAAC/O,MAA1BkR;QACAA,aAAa,CAACxC,GAAdwC,IAAqBD,iBAArBC;MACD;;MAEDA,aAAa,CAAC1C,IAAd0C,IAAuBnC,IAAI,CAAChP,KAALgP,GAAa,CAApCmC;MACAA,aAAa,CAAC1C,IAAd0C,IAAuB7C,UAAU,CAACrO,MAAXqO,GAAoB,CAApBA,GAAyB,CAAhD6C;MACAA,aAAa,CAAC1C,IAAd0C,IAAsBF,iBAAtBE;MAEA,IAAMC,WAAW,GAAIvC,MAAM,CAACC,UAAPD,GAAoBG,IAAI,CAAChP,KAA9C;;MACA,IAAIoR,WAAW,GAAGD,aAAa,CAAC1C,IAAhC,EAAsC;QACpC0C,aAAa,CAAC1C,IAAd0C,GAAqBC,WAArBD;MACD;;MACD,IAAIA,aAAa,CAAC1C,IAAd0C,GAAqB,CAAzB,EAA4B;QAC1BA,aAAa,CAAC1C,IAAd0C,GAAqB,CAArBA;MACD;;MAED,OAAO/D,MAAKY,QAAL,CAAc;QAAEmD,aAAa,EAAbA;MAAF,CAAd,CAAP;IAxGiB;;IAEjB/D,MAAK2D,WAAL,gBAAmBzS,cAAK,CAAC8Q,SAAN9Q,EAAnB;IACA8O,MAAKiC,YAAL,GAAoB9L,QAAQ,CAACC,IAA7B;IACA4J,MAAKc,KAAL,GAAa;MACXiD,aAAa,EAAE,EADJ;MAEXtD,kBAAkB,EAAE,8BAAM;IAFf,CAAb;IAJiB;EAQlB;;;;WAED,6BAAoB;MAClB,KAAKyB,WAAL;MACA,KAAK+B,cAAL;MACA,KAAK7B,UAAL,GAHkB;;MAKlB,KAAKH,YAAL,CAAkBvQ,SAAlB,aAAiC+R,iBAAjC,cAAsD,KAAKxB,YAAL,CAAkBvQ,SAAxE;IACD;;;WAED,gCAAuB;MACrB,KAAK2Q,aAAL;MACA,KAAKC,UAAL,GAFqB;;MAIrB,KAAKL,YAAL,CAAkBvQ,SAAlB,GAA8B,KAAKuQ,YAAL,CAAkBvQ,SAAlB,CAA4B4E,KAA5B,CAAkC,GAAlC,EAAuCC,MAAvC,CAA8C,UAAC7E,SAAD;QAAA,OAAeA,SAAS,KAAK+R,iBAA7B;MAA9C,GAA8FjQ,IAA9F,CAAmG,GAAnG,CAA9B;IACD;;;WAoFD,kBAAS;MACP,IAAQuQ,aAAR,GAA0B,KAAKjD,KAAL,CAAlBiD,aAAR;MACA,IAAQtS,QAAR,GAAqB,KAAKD,KAAL,CAAbC,QAAR;MACA,oBACE+E,YAAY,eACVtF,yEACEA;QAAKQ,SAAS,EAAC;MAAfR,EADFA,eAEEA;QACEQ,SAAS,EAAC,iCADZR;QAEEwB,GAAG,EAAE,KAAKiR,WAFZzS;QAGE+B,KAAK,EAAE;UACLsP,OAAO,EAAE,cADJ;UAELC,QAAQ,EAAE,OAFL;UAGLnB,IAAI,YAAKoB,IAAI,CAACC,KAALD,CAAWsB,aAAa,CAAC1C,IAAzBoB,CAAL,OAHC;UAILlB,GAAG,YAAKkB,IAAI,CAACC,KAALD,CAAWsB,aAAa,CAACxC,GAAzBkB,CAAL;QAJE;MAHTvR,gBAUEA,6BAAC4R,SAAD5R;QACEQ,SAAS,EAAC,sCADZ;QAEEqR,YAAY,EAAE,CAFhB;QAGEC,SAAS,EAAE,EAHb;QAIEC,UAAU,EAAE;MAJd,GAMGxR,QANHP,CAVFA,CAFFA,CADU,EAuBViF,QAAQ,CAACY,cAATZ,CAAwB,4BAAxBA,CAvBU,CADd;IA2BD;;;;CA1IkBuN,CAAuBf,SAAvBe;;AA4IrBA,gBAAc,CAAC7R,SAAf6R,GAA2B;EACzBnD,aAAa,EAAEzO,SAAS,CAACO,IAAVP,CAAeK,UADL;EAEzBV,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACE,OADkB,EAE5BF,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACE,OAA5BF,CAF4B,CAApBA,EAGPK,UALsB;EAMzB6O,SAAS,EAAElP,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACO,IADmB,EAE7BP,SAAS,CAAC4B,KAAV5B,CAAgB;IAAEqO,OAAO,EAAErO,SAAS,CAAC8Q,UAAV9Q,CAAqBA,SAAS,CAACE,OAA/BF;EAAX,CAAhBA,CAF6B,CAApBA,EAGRK,UATsB;EAUzB+N,gBAAgB,EAAEpO,SAAS,CAACC,SAAVD,CAAoB,CACpCA,SAAS,CAACO,IAD0B,EAEpCP,SAAS,CAAC4B,KAAV5B,CAAgB;IAAEqO,OAAO,EAAErO,SAAS,CAAC8Q,UAAV9Q,CAAqBA,SAAS,CAACE,OAA/BF;EAAX,CAAhBA,CAFoC,CAApBA,EAGfK,UAbsB;EAczByR,gBAAgB,EAAE9R,SAAS,CAAC4B,KAAV5B,CAAgB;IAChCsP,CAAC,EAAEtP,SAAS,CAAC0R,MADmB;IAEhClC,CAAC,EAAExP,SAAS,CAAC0R;EAFmB,CAAhB1R;AAdO,CAA3B4R;AAmBAA,gBAAc,CAACnR,YAAfmR,GAA8B;EAC5BE,gBAAgB,EAAE;AADU,CAA9BF;AC5JA,IAAMQ,KAAK,GAAG,EAAd;IAEapE,SAAS,GAAGqE;IACZT,cAAc,GAAGU;;IAEjBC,QAAQ,GAAG,SAAXA,QAAW,OAKlB;EAAA,IAJJ3S,SAII,QAJJA,SAII;EAAA,IAHJD,QAGI,QAHJA,QAGI;EAAA,IAFJsB,OAEI,QAFJA,OAEI;EAAA,IADJuR,OACI,QADJA,OACI;;EACJ,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC9Q,CAAD,EAAO;IAAE,IAAI,CAAC6Q,OAAL,EAAcvR,OAAO,CAACU,CAAD,CAAPV;EAAhD;;EACA,oBACE7B;IACEQ,SAAS,EAAE8S,YAAY,CAAC,CAAC9S,SAAD,EAAY,8BAAZ,EAA4C4S,OAAO,GAAG,SAAH,GAAe,EAAlE,CAAD,CADzBpT;IAEEsG,IAAI,EAAC,UAFPtG;IAGE6B,OAAO,EAAEwR,gBAHXrT;IAIEwG,UAAU,EAAE,oBAACjE,CAAD,EAAO;MAAE,IAAIA,CAAC,CAACgR,OAAFhR,KAAcyQ,KAAlB,EAAyBK,gBAAgB,CAAC9Q,CAAD,CAAhB8Q;IAJhD;IAKE9M,QAAQ,EAAE;EALZvG,gBAOEA,6BAACuD,KAADvD;IACEQ,SAAS,EAAC,oCADZ;IAEEoB,IAAI,EAAE4B,eAAe,CAACgQ,UAFxB;IAGE9P,KAAK,EAAE0P,OAAO,GAAGzP,WAAW,CAACsC,cAAf,GAAgCtC,WAAW,CAACU;EAH5D,GAKG9D,QALHP,CAPFA,CADF;AAiBD;;AAEDmT,QAAQ,CAACxS,SAATwS,GAAqB;EACnB3S,SAAS,EAAEI,SAAS,CAACC,SAAVD,CAAoB,CAC7BA,SAAS,CAACQ,MADmB,EAE7BR,SAAS,CAACG,OAAVH,CAAkBA,SAAS,CAACQ,MAA5BR,CAF6B,CAApBA,CADQ;EAKnBL,QAAQ,EAAEK,SAAS,CAACC,SAAVD,CAAoB,CAC5BA,SAAS,CAACQ,MADkB,EAE5BR,SAAS,CAACE,OAFkB,CAApBF,EAGPK,UARgB;EASnBY,OAAO,EAAEjB,SAAS,CAACO,IAAVP,CAAeK,UATL;EAUnBmS,OAAO,EAAExS,SAAS,CAACM;AAVA,CAArBiS;AAaAA,QAAQ,CAAC9R,YAAT8R,GAAwB;EACtB3S,SAAS,EAAE,EADW;EAEtB4S,OAAO,EAAE;AAFa,CAAxBD,C,CAAA;;AAae,SAASM,WAAT,QAAiD;EAAA,IAA1BC,WAA0B,SAA1BA,WAA0B;EAAA,IAAbC,SAAa,SAAbA,SAAa;;EAC9D,gBAAgC3R,QAAQ,CAAC,KAAD,CAAxC;EAAA;EAAA,IAAO4R,QAAP;EAAA,IAAiBC,WAAjB;;EAEA,oBACE7T;IAAKQ,SAAS,EAAC,uBAAfR;IAAuC+B,KAAK,EAAE;MAAEsP,OAAO,EAAE;IAAX;EAA9CrR,GACG0T,WAAW,CAAC;IAAA,OAAMG,WAAW,CAAC,CAACD,QAAF,CAAjB;EAAD,EADd5T,EAEG4T,QAAQ,IAAID,SAAS,CAAC;IAAA,OAAME,WAAW,CAAC,KAAD,CAAjB;EAAD,EAFxB7T,CADF;AAMD;;AAEDyT,WAAW,CAAC9S,SAAZ8S,GAAwB;EACtBC,WAAW,EAAE9S,SAAS,CAACO,IAAVP,CAAeK,UADN;EAEtB0S,SAAS,EAAE/S,SAAS,CAACO,IAAVP,CAAeK;AAFJ,CAAxBwS","names":["UserProfileContext","React","createContext","disableUserProfile","isOpenChannel","renderUserProfile","UserProfileProvider","props","children","className","Provider","value","propTypes","PropTypes","oneOfType","element","arrayOf","any","isRequired","bool","func","string","defaultProps","IconButton","forwardRef","ref","disabled","width","height","type","onClick","onBlur","style","useState","pressed","setPressed","React__default","Array","isArray","join","e","shape","MODAL_ROOT","Type","PRIMARY","SECONDARY","DANGER","DISABLED","Size","BIG","SMALL","changeTypeToClassName","changeSizeToClassName","size","Button","injectingClassNames","Label","LabelTypography","BUTTON_1","color","LabelColors","ONCONTENT_1","ButtonTypes","ButtonSizes","oneOf","Object","keys","ModalHeader","titleText","H_1","ONBACKGROUND_1","ModalBody","ModalFooter","onSubmit","onCancel","submitText","useContext","LocalizationContext","stringSet","BUTTON__CANCEL","Modal","hideFooter","document","body","useEffect","split","filter","createPortal","Icon","IconTypes","CLOSE","fillColor","IconColors","DEFAULT","getElementById","Colors","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ERROR","changeColorToClassName","TextButton","notUnderline","role","tabIndex","onKeyPress","SEND_MESSAGE_START","SEND_USER_MESSAGE","SEND_FILE_MESSAGE","UPDATE_USER_MESSAGE","DELETE_MESSAGE","LEAVE_CHANNEL","CREATE_CHANNEL","getSdk","store","stores","sdkStore","sdk","getPubSub","config","pubSub","getConnect","userId","accessToken","Promise","resolve","reject","Error","connect","then","res","catch","err","getDisconnect","disconnect","getUpdateUserInfo","nickName","profileUrl","updateCurrentUserInfo","getSendUserMessage","channelUrl","userMessageParams","pubsub","GroupChannel","getChannel","channel","promisify","pendingMsg","pendingPromise","resolve_","reject_","sendUserMessage","swapParams","getErrorFirstCallback","message","error","publish","topics","get","getSendFileMessage","fileMessageParams","prgHandler","progressEvent","sendFileMessage","event","resolve2","reject2","file","localUrl","URL","createObjectURL","fileUrl","requestState","getUpdateUserMessage","messageId","params","updateUserMessage","fromSelector","getDeleteMessage","deleteMessage","getResendUserMessage","failedMessage","resendUserMessage","getResendFileMessage","resendFileMessage","getCreateChannel","createChannel","getLeaveChannel","leave","getFreezeChannel","freeze","getUnFreezeChannel","unfreeze","getCreateOpenChannel","OpenChannel","enterOpenChannel","openChannel","enter","response","enterError","exitOpenChannel","exit","exitError","getOpenChannelSendUserMessage","getOpenChannelSendFileMessage","getOpenChannelUpdateUserMessage","getOpenChannelDeleteMessage","getOpenChannelResendUserMessage","getOpenChannelResendFileMessage","getEnterOpenChannel","getExitOpenChannel","UserProfile","_a","user","currentUserId","logger","_b","disableMessaging","onSuccess","Avatar","src","H_2","nickname","NO_NAME","GroupChannelParams","isDistinct","addUserIds","groupChannel","info","USER_PROFILE__MESSAGE","CAPTION_2","USER_PROFILE__USER_ID","BODY_1","mapStoreToProps","ConnectedUserProfile","withSendbirdContext","MENU_ITEMS_POP_UP","MenuItems","_classCallCheck","_this","_defineProperty","parentContainRef","current","classList","add","remove","closeDropdown","menuRef","handleClickOutside","contains","target","setState","addEventListener","state","removeEventListener","parentRef","openLeft","parentRect","getBoundingClientRect","x","left","y","top","menuStyle","window","innerWidth","innerHeight","rect","padding","Number","isNaN","createRef","rootForPopup","setupEvents","getMenuPosition","showParent","cleanUpEvents","hideParent","display","position","Math","round","Component","instanceOf","componentClassName","SortByRow","maxItemCount","itemWidth","itemHeight","length","result","i","push","key","slice","number","EMOJI_LIST_POP_UP","EmojiListItems","reactionRef","spaceFromTrigger","spaceFromTriggerX","spaceFromTriggerY","reactionStyle","maximumLeft","getBarPosition","ENTER","MenuItems_","EmojiListItems_","MenuItem","disable","handleClickEvent","getClassName","keyCode","SUBTITLE_2","ContextMenu","menuTrigger","menuItems","showMenu","setShowMenu"],"sources":["C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\UserProfileContext.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\IconButton\\index.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\hooks\\useModal\\ModalRoot\\index.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\Button\\type.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\Button\\utils.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\Button\\index.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\Modal\\index.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\utils\\color.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\TextButton\\index.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\pubSub\\topics.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\lib\\selectors.js","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\UserProfile\\index.tsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\ContextMenu\\items\\MenuItems.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\SortByRow\\index.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\ContextMenu\\items\\EmojiListItems.jsx","C:\\Users\\Ivo\\OneDrive\\Bureaublad\\bootcamp\\realtimechat\\node_modules\\sendbird-uikit\\src\\ui\\ContextMenu\\index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * user profile goes deep inside the component tree\n * use this context as a short circuit to send in values\n */\nconst UserProfileContext = React.createContext({\n  disableUserProfile: true,\n  isOpenChannel: false,\n  renderUserProfile: null,\n});\n\nconst UserProfileProvider = (props) => {\n  const { children, className } = props;\n  return (\n    <UserProfileContext.Provider value={props}>\n      <div className={className}>\n        {children}\n      </div>\n    </UserProfileContext.Provider>\n  );\n};\n\nUserProfileProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  // eslint-disable-next-line react/no-unused-prop-types\n  isOpenChannel: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  disableUserProfile: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  renderUserProfile: PropTypes.func,\n  className: PropTypes.string,\n};\n\nUserProfileProvider.defaultProps = {\n  className: null,\n  isOpenChannel: false,\n  disableUserProfile: false,\n  renderUserProfile: null,\n};\n\nexport { UserProfileContext, UserProfileProvider };\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst IconButton = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    disabled,\n    width,\n    height,\n    type,\n    onClick,\n    onBlur,\n    style,\n  } = props;\n\n  const [pressed, setPressed] = useState('');\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-iconbutton',\n        pressed,\n      ].join(' ')}\n      disabled={disabled}\n      ref={ref}\n      type={type} // eslint-disable-line react/button-has-type\n      style={{\n        ...style,\n        height,\n        width,\n      }}\n      onClick={(e) => {\n        if (disabled) { return; }\n        setPressed('sendbird-iconbutton--pressed');\n        onClick(e);\n      }}\n      onBlur={(e) => {\n        setPressed('');\n        onBlur(e);\n      }}\n    >\n      <span className=\"sendbird-iconbutton__inner\">\n        {children}\n      </span>\n    </button>\n  );\n});\n\nIconButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  type: PropTypes.string,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.shape({}),\n};\n\nIconButton.defaultProps = {\n  className: '',\n  disabled: false,\n  width: '56px',\n  height: '56px',\n  type: 'button',\n  onClick: () => { },\n  onBlur: () => { },\n  style: {},\n};\n\nexport default IconButton;\n","// simple component to be used as modal root\nimport React from 'react';\n\nexport const MODAL_ROOT = 'sendbird-modal-root';\n\nexport default () => (\n  <div id={MODAL_ROOT} />\n);\n","export const Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED',\n};\n\nexport const Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL',\n};\n","import { Type, Size } from './type';\n\nexport function changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY: return 'sendbird-button--primary';\n    case Type.SECONDARY: return 'sendbird-button--secondary';\n    case Type.DANGER: return 'sendbird-button--danger';\n    case Type.DISABLED: return 'sendbird-button--disabled';\n    default: return null;\n  }\n}\n\nexport function changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG: return 'sendbird-button--big';\n    case Size.SMALL: return 'sendbird-button--small';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { Type, Size } from './type';\nimport { changeTypeToClassName, changeSizeToClassName } from './utils';\n\nexport default function Button({\n  className,\n  type,\n  size,\n  children,\n  disabled,\n  onClick,\n}) {\n  const injectingClassNames = [\n    ...((Array.isArray(className)) ? className : [className]),\n    'sendbird-button',\n    (disabled ? 'sendbird-button__disabled' : ''),\n    changeTypeToClassName(type),\n    changeSizeToClassName(size),\n  ].join(' ');\n\n  return (\n    <button\n      className={injectingClassNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n    >\n      <Label\n        className=\"sendbird-button__text\"\n        type={LabelTypography.BUTTON_1}\n        color={LabelColors.ONCONTENT_1}\n      >\n        {children}\n      </Label>\n    </button>\n  );\n}\n\nexport const ButtonTypes = Type;\nexport const ButtonSizes = Size;\n\nButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nButton.defaultProps = {\n  className: '',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  children: 'Button',\n  disabled: false,\n  onClick: () => { },\n};\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Button, { ButtonTypes } from '../Button';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const ModalHeader = ({ titleText }) => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired,\n};\n\nexport const ModalBody = ({ children }) => (\n  <div className=\"sendbird-modal__body\">{children}</div>\n);\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]),\n};\nModalBody.defaultProps = {\n  children: null,\n};\n\nexport const ModalFooter = ({\n  onSubmit,\n  onCancel,\n  disabled = false,\n  submitText,\n  type,\n}) => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n        <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.BUTTON__CANCEL}\n        </Label>\n      </Button>\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  type: PropTypes.string,\n};\nModalFooter.defaultProps = {\n  disabled: false,\n  type: ButtonTypes.DANGER,\n};\n\nexport default function Modal(props) {\n  const {\n    children,\n    onCancel,\n    onSubmit,\n    disabled,\n    submitText,\n    titleText,\n    hideFooter,\n    type,\n  } = props;\n  const { body } = document;\n  useEffect(() => {\n    body.className = `sendbird-modal-pop-up ${body.className}`;\n    return () => {\n      body.className = body.className.split(' ').filter((className) => className !== 'sendbird-modal-pop-up').join(' ');\n    };\n  }, []);\n\n  return createPortal((\n    <div className=\"sendbird-modal\">\n      <div className=\"sendbird-modal__content\">\n        <ModalHeader titleText={titleText} />\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-modal__backdrop\" />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  disabled: PropTypes.bool,\n  type: PropTypes.string,\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  disabled: false,\n  type: ButtonTypes.DANGER,\n};\n","import './color.scss';\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-color--onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-color--onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-color--onbackground-3';\n    case Colors.ONBACKGROUND_4: return 'sendbird-color--onbackground-4';\n    case Colors.ONCONTENT_1: return 'sendbird-color--oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.ERROR: return 'sendbird-color--error';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\n\nexport default function TextButton({\n  className,\n  color,\n  disabled,\n  notUnderline,\n  onClick,\n  children,\n}) {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        changeColorToClassName(color),\n        notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton',\n        disabled ? 'sendbird-textbutton--disabled' : '',\n      ].join(' ')}\n      role=\"button\"\n      tabIndex={0}\n      onClick={onClick}\n      onKeyPress={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nTextButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  notUnderline: PropTypes.bool,\n  onClick: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n};\n\nTextButton.defaultProps = {\n  className: '',\n  color: Colors.ONBACKGROUND_1,\n  disabled: false,\n  notUnderline: false,\n  onClick: () => { },\n};\n","export const USER_UPDATED = 'USER_UPDATED';\nexport const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nexport const SEND_USER_MESSAGE = 'SEND_USER_MESSAGE';\nexport const SEND_FILE_MESSAGE = 'SEND_FILE_MESSAGE';\nexport const UPDATE_USER_MESSAGE = 'UPDATE_USER_MESSAGE';\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';\nexport const LEAVE_CHANNEL = 'LEAVE_CHANNEL';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\n","import * as topics from './pubSub/topics';\n\nexport const getSdk = (store) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  return sdk;\n};\n\nexport const getPubSub = (store) => {\n  const { config = {} } = store;\n  const { pubSub } = config;\n  return pubSub;\n};\n\n// SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\nexport const getConnect = (store) => (userId, accessToken) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  if (!accessToken) {\n    sdk.connect(userId)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  } else {\n    sdk.connect(userId, accessToken)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  }\n});\n\n// SendBird disconnect. Invalidates currentUser\nexport const getDisconnect = (store) => () => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.disconnect()\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\n// Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\nexport const getUpdateUserInfo = (store) => (nickName, profileUrl) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.updateCurrentUserInfo(nickName, profileUrl)\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\nexport const getSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getSendFileMessage = (store) => (channelUrl, fileMessageParams, prgHandler = null) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          let progressEvent = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(\n              fileMessageParams,\n              (event) => {\n                // Useless progressHandler callback functions could be called everytime\n                // Performance vs Readability\n                if (prgHandler && event) {\n                  progressEvent = event;\n                }\n              },\n              (res, err) => {\n                const swapParams = sdk.getErrorFirstCallback();\n                let message = res;\n                let error = err;\n                if (swapParams) {\n                  message = err;\n                  error = res;\n                }\n\n                if (!progressEvent) {\n                  if (error) {\n                    reject_(error);\n                  } else {\n                    resolve_(message);\n                    pubsub.publish(\n                      topics.SEND_FILE_MESSAGE,\n                      {\n                        message,\n                        channel,\n                      },\n                    );\n                  }\n                  return;\n                }\n                // If prgHandler and progressEvent exists call prgHandler with progressEvent first\n                resolve_(new Promise((resolve2, reject2) => {\n                  prgHandler(progressEvent);\n                  if (error) {\n                    reject2(error);\n                    return;\n                  }\n                  resolve2(message);\n                  pubsub.publish(\n                    topics.SEND_FILE_MESSAGE,\n                    {\n                      message,\n                      channel,\n                    },\n                  );\n                }));\n              },\n            );\n          });\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          }\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n              // workaround for updating channelPreview on message-edit\n              // https://sendbird.atlassian.net/browse/UIKIT-268\n              fromSelector: true,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\nexport const getDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n        pubsub.publish(\n          topics.CREATE_CHANNEL,\n          {\n            channel,\n          },\n        );\n      })\n      .catch(reject);\n  });\n};\n\nexport const getLeaveChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.leave()\n          .then(() => {\n            resolve(channel);\n            pubsub.publish(\n              topics.LEAVE_CHANNEL,\n              {\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getFreezeChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.freeze()\n          .then(() => {\n            // do not need pubsub here - event listener works\n            resolve(channel);\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getUnFreezeChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.unfreeze()\n          .then(() => {\n            // do not need pubsub here - event listener works\n            resolve(channel);\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateOpenChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n      })\n      .catch(reject);\n  });\n};\nexport const enterOpenChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (error) {\n        reject(new Error(error));\n        return;\n      }\n\n      openChannel.enter((response, enterError) => {\n        if (error) {\n          reject(new Error(enterError));\n          return;\n        }\n        resolve(response);\n      });\n    });\n  });\n};\n\nexport const exitOpenChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (error) {\n        reject(new Error(error));\n        return;\n      }\n\n      openChannel.exit((response, exitError) => {\n        if (error) {\n          reject(new Error(exitError));\n          return;\n        }\n        resolve(response);\n      });\n    });\n  });\n};\n\nexport const getOpenChannelSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelSendFileMessage = (store) => (channelUrl, fileMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_FILE_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n          });\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          }\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n              // workaround for updating channelPreview on message-edit\n              // https://sendbird.atlassian.net/browse/UIKIT-268\n              fromSelector: true,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport default {\n  getSdk,\n  getConnect,\n  getDisconnect,\n  getUpdateUserInfo,\n  getSendUserMessage,\n  getSendFileMessage,\n  getUpdateUserMessage,\n  getDeleteMessage,\n  getResendUserMessage,\n  getResendFileMessage,\n  getFreezeChannel,\n  getUnFreezeChannel,\n  getCreateChannel,\n  getLeaveChannel,\n  getCreateOpenChannel,\n  getEnterOpenChannel: enterOpenChannel,\n  getExitOpenChannel: exitOpenChannel,\n  getOpenChannelSendUserMessage,\n  getOpenChannelSendFileMessage,\n  getOpenChannelUpdateUserMessage,\n  getOpenChannelDeleteMessage,\n  getOpenChannelResendUserMessage,\n  getOpenChannelResendFileMessage,\n};\n","import React, { ReactElement, useContext } from 'react';\nimport { SendbirdTypes } from '../../types';\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { getSdk, getCreateChannel } from '../../lib/selectors';\nimport Avatar from '../Avatar/index';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport Button, { ButtonTypes } from '../Button';\n\ninterface Logger {\n  info?(message: string, channel: SendbirdTypes['GroupChannel']): void;\n}\n\ninterface Props {\n  user: SendbirdTypes['User'];\n  currentUserId?: string;\n  sdk?: SendbirdTypes['SendBirdInstance'];\n  logger?: Logger;\n  disableMessaging?: boolean;\n  createChannel?(params: SendbirdTypes['GroupChannelParams']): Promise<SendbirdTypes['GroupChannel']>;\n  onSuccess?(): void;\n}\n\nfunction UserProfile({\n  user,\n  currentUserId,\n  sdk,\n  logger,\n  disableMessaging = false,\n  createChannel,\n  onSuccess,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird__user-profile\">\n      <section className=\"sendbird__user-profile-avatar\">\n        <Avatar\n          height=\"80px\"\n          width=\"80px\"\n          src={user.profileUrl}\n        />\n      </section>\n      <section className=\"sendbird__user-profile-name\">\n        <Label\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user.nickname || stringSet.NO_NAME}\n        </Label>\n      </section>\n      {\n        (user.userId !== currentUserId) && !disableMessaging && (\n          <section className=\"sendbird__user-profile-message\">\n            <Button\n              type={ButtonTypes.SECONDARY}\n              onClick={() => {\n                const params = new sdk.GroupChannelParams();\n                params.isDistinct = true;\n                params.addUserIds([user.userId]);\n                onSuccess();\n                createChannel(params)\n                  .then((groupChannel) => {\n                    logger.info('UserProfile, channel create', groupChannel);\n                  });\n              }}\n            >\n              {stringSet.USER_PROFILE__MESSAGE}\n            </Button>\n          </section>\n        )\n      }\n      <div className=\"sendbird__user-profile-separator\" />\n      <section className=\"sendbird__user-profile-userId\">\n        <Label\n          className=\"sendbird__user-profile-userId--label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.USER_PROFILE__USER_ID}\n        </Label>\n        <Label\n          className=\"sendbird__user-profile-userId--value\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user.userId}\n        </Label>\n      </section>\n    </div>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n  createChannel: getCreateChannel(store),\n  logger: store.config.logger,\n  pubsub: store.config.pubSub,\n});\n\nconst ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\n\nexport default ConnectedUserProfile;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst MENU_ITEMS_POP_UP = 'sendbird-menu-items-pop-up';\n\nexport default class MenuItems extends Component {\n  constructor(props) {\n    super(props);\n    this.menuRef = React.createRef();\n    this.rootForPopup = document.body;\n    this.state = {\n      menuStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getMenuPosition();\n    this.showParent();\n    // add className to body\n    this.rootForPopup.className = `${MENU_ITEMS_POP_UP} ${this.rootForPopup.className}`;\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n    // remove className from body\n    this.rootForPopup.className = this.rootForPopup.className.split(' ').filter((className) => className !== MENU_ITEMS_POP_UP).join(' ');\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-icon--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-icon--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { menuRef } = this;\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getMenuPosition = () => {\n    const { parentRef, openLeft } = this.props;\n    const parentRect = parentRef.current.getBoundingClientRect();\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n    const menuStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.menuRef.current) return menuStyle;\n\n    const { innerWidth, innerHeight } = window;\n    const rect = this.menuRef.current.getBoundingClientRect();\n    if (y + rect.height > innerHeight) {\n      menuStyle.top -= rect.height;\n    }\n\n    if (x + rect.width > innerWidth && !openLeft) {\n      menuStyle.left -= rect.width;\n    }\n\n    if (menuStyle.top < 0) {\n      menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n    }\n\n    if (menuStyle.left < 0) {\n      menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n    }\n\n    menuStyle.top += 32;\n    if (openLeft) {\n      const padding = Number.isNaN(rect.width - 30)\n        ? 108 // default\n        : rect.width - 30;\n      menuStyle.left -= padding;\n    }\n\n    return this.setState({ menuStyle });\n  }\n\n  render() {\n    const { menuStyle } = this.state;\n    const { children, style } = this.props;\n    return (\n      createPortal(\n        (\n          <>\n            <div className=\"sendbird-dropdown__menu-backdrop\" />\n            <ul\n              className=\"sendbird-dropdown__menu\"\n              ref={this.menuRef}\n              style={{\n                display: 'inline-block',\n                position: 'fixed',\n                left: `${Math.round(menuStyle.left)}px`,\n                top: `${Math.round(menuStyle.top)}px`,\n                ...style,\n              }}\n            >\n              {children}\n            </ul>\n          </>\n        ),\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nMenuItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  style: PropTypes.shape({}),\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  openLeft: PropTypes.bool,\n};\nMenuItems.defaultProps = {\n  style: {},\n  openLeft: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst componentClassName = 'sendbird-sort-by-row';\nexport default function SortByRow({\n  className,\n  maxItemCount,\n  itemWidth,\n  itemHeight,\n  children,\n}) {\n  if (children.length > maxItemCount) {\n    const result = [];\n\n    for (let i = 0; i < children.length; i += maxItemCount) {\n      result.push(\n        <div\n          className={[\n            ...(Array.isArray(className) ? className : [className]),\n            componentClassName,\n          ].join(' ')}\n          key={className + i}\n          style={{\n            width: itemWidth * maxItemCount,\n            height: itemHeight,\n          }}\n        >\n          {\n            children.slice(i, i + maxItemCount)\n          }\n        </div>,\n      );\n    }\n    return result;\n  }\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        componentClassName,\n      ].join(' ')}\n      style={{\n        width: itemWidth * children.length,\n        height: itemHeight,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nSortByRow.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  maxItemCount: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]).isRequired,\n};\n\nSortByRow.defaultProps = {\n  className: '',\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport SortByRow from '../../SortByRow';\n\nconst EMOJI_LIST_POP_UP = 'sendbird-emoji-list-pop-up';\n\nexport default class EmojiListItems extends Component {\n  constructor(props) {\n    super(props);\n    this.reactionRef = React.createRef();\n    this.rootForPopup = document.body;\n    this.state = {\n      reactionStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getBarPosition();\n    this.showParent();\n    // add className to body\n    this.rootForPopup.className = `${EMOJI_LIST_POP_UP} ${this.rootForPopup.className}`;\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n    // remove className from body\n    this.rootForPopup.className = this.rootForPopup.className.split(' ').filter((className) => className !== EMOJI_LIST_POP_UP).join(' ');\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-reactions--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-reactions--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { reactionRef } = this;\n    const handleClickOutside = (event) => {\n      if (reactionRef.current && !reactionRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getBarPosition = () => {\n    // calculate the location that the context menu should be\n    const {\n      parentRef,\n      spaceFromTrigger,\n    } = this.props;\n    const spaceFromTriggerX = spaceFromTrigger.x || 0;\n    const spaceFromTriggerY = spaceFromTrigger.y || 0;\n\n    const parentRect = parentRef.current.getBoundingClientRect();\n\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n\n    const reactionStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.reactionRef.current) return reactionStyle;\n    const rect = this.reactionRef.current.getBoundingClientRect();\n\n    if (reactionStyle.top < rect.height) {\n      reactionStyle.top += parentRect.height;\n      reactionStyle.top += spaceFromTriggerY;\n    } else {\n      reactionStyle.top -= rect.height;\n      reactionStyle.top -= spaceFromTriggerY;\n    }\n\n    reactionStyle.left -= (rect.width / 2);\n    reactionStyle.left += (parentRect.height / 2) - 2;\n    reactionStyle.left += spaceFromTriggerX;\n\n    const maximumLeft = (window.innerWidth - rect.width);\n    if (maximumLeft < reactionStyle.left) {\n      reactionStyle.left = maximumLeft;\n    }\n    if (reactionStyle.left < 0) {\n      reactionStyle.left = 0;\n    }\n\n    return this.setState({ reactionStyle });\n  }\n\n  render() {\n    const { reactionStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        <>\n          <div className=\"sendbird-dropdown__menu-backdrop\" />\n          <ul\n            className=\"sendbird-dropdown__reaction-bar\"\n            ref={this.reactionRef}\n            style={{\n              display: 'inline-block',\n              position: 'fixed',\n              left: `${Math.round(reactionStyle.left)}px`,\n              top: `${Math.round(reactionStyle.top)}px`,\n            }}\n          >\n            <SortByRow\n              className=\"sendbird-dropdown__reaction-bar__row\"\n              maxItemCount={8}\n              itemWidth={44}\n              itemHeight={40}\n            >\n              {children}\n            </SortByRow>\n          </ul>\n        </>,\n        document.getElementById('sendbird-emoji-list-portal'),\n      )\n    );\n  }\n}\nEmojiListItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  spaceFromTrigger: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\nEmojiListItems.defaultProps = {\n  spaceFromTrigger: {},\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { getClassName } from '../../utils';\n\nimport MenuItems_ from './items/MenuItems';\nimport EmojiListItems_ from './items/EmojiListItems';\n\nconst ENTER = 13;\n\nexport const MenuItems = MenuItems_;\nexport const EmojiListItems = EmojiListItems_;\n\nexport const MenuItem = ({\n  className,\n  children,\n  onClick,\n  disable,\n}) => {\n  const handleClickEvent = (e) => { if (!disable) onClick(e); };\n  return (\n    <li\n      className={getClassName([className, 'sendbird-dropdown__menu-item', disable ? 'disable' : ''])}\n      role=\"menuitem\"\n      onClick={handleClickEvent}\n      onKeyPress={(e) => { if (e.keyCode === ENTER) handleClickEvent(e); }}\n      tabIndex={0}\n    >\n      <Label\n        className=\"sendbird-dropdown__menu-item__text\"\n        type={LabelTypography.SUBTITLE_2}\n        color={disable ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1}\n      >\n        {children}\n      </Label>\n    </li>\n  );\n};\n\nMenuItem.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n  disable: PropTypes.bool,\n};\n\nMenuItem.defaultProps = {\n  className: '',\n  disable: false,\n};\n\n// Root components should be appended before ContextMenu is rendered\nexport const MenuRoot = () => (\n  <div id=\"sendbird-dropdown-portal\" />\n);\nexport const EmojiReactionListRoot = () => (\n  <div id=\"sendbird-emoji-list-portal\" />\n);\n\nexport default function ContextMenu({ menuTrigger, menuItems }) {\n  const [showMenu, setShowMenu] = useState(false);\n\n  return (\n    <div className=\"sendbird-context-menu\" style={{ display: 'inline' }}>\n      {menuTrigger(() => setShowMenu(!showMenu))}\n      {showMenu && menuItems(() => setShowMenu(false))}\n    </div>\n  );\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}